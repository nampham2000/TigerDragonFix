{"version":3,"sources":["file:///Users/waostudio/Desktop/dragonfix/assets/Scripts/GameController.ts"],"names":["_decorator","Component","Label","Node","tween","Vec3","Animation","SpriteFrame","Sprite","Graphics","Color","instantiate","Prefab","Button","AudioSource","Chip","NetworkConnect","AudioController","ccclass","property","GameController","type","UserBetTigerIcon","UserBetDragonIcon","UserBetTieIcon","clonePosCardL","clonePosCardR","randomValueCardR","randomValueCardL","balanceUser","currentCol","currentRow","currentRowClone","currentColL","currentRowL","previousPrefabType","previousPrefabTypeL","winIntroType","numRows","numCols","cellWidth","cellHeight","countdownTimerBet","cloneBalance","GameEnd","GameStateStart","GameStateIdle","GameStateReuslt","GameStateFight","GameStatePayOut","GameStateStopBet","checkSateCurrent","checkBettedTiger","checkBettedDragon","checkBettedTie","loggedInUsername","sessionId","currentHostName","assignUserName","assignHostName","spriteFrame","spriteFrameR","log3","onLoad","CardNodeL","position","clone","CardNodeR","shuffelCard","drawRectangle","drawRectangle1","drawRectangle2","drawRectangle3","drawRectangleTotalUser","drawRectanglel","AvatarL1","AvatarL2","AvatarL3","AvatarL4","AvatarL5","AvatarL6","drawGrid","GridL","GridR","drawRectangleTotal","settingAudio","update","deltaTime","room","state","players","get","BalancerLb","string","balance","TotalBetLB","betTiger","toString","betDragon","betTie","totalUserBet","totaluserBetTiger","totaluserBetDragon","totaluserBetTie","undefined","player","displayName","UserName","console","warn","currentHost","error","chipNode","node","active","avaliablebet","scroll","getComponent","color","NameHost","gameState","send","onMessage","message","createGridNot","documents","RestartBalnce","Idle","CardNodeAnim","StartBet","StartBetting","log","result","loadingPage","loadingAudio","volume","stopBetting","fight","shownResult","i","ListLabel","length","removeAllChildren","listCancelBet","addScore","Score","betLB","betValueIcon","betTigerBtn","UserBet","JSON","stringify","betAmount","betType","ToatalUser","betTigerLb","createSpriteNode","ValueAnim","onAudio","betDragonBtn","betDragonLb","ValueAnim1","PosBet","betTieBtn","ValueAnim2","betTieLb","to","call","start","displayImages","suitToResourceMap","listCardRes","listCardResHeart","listCardResclubs","listCardResdiamonds","cardList","dragonCard","suit","value","spriteComponent","displayImagesCardR","tigerCard","sprite","width","height","graphics","AvatarNode","addComponent","lightGray","fillColor","glowColor","BLACK","strokeColor","lineWidth","roundRect","fill","stroke","AvatarNode1","AvatarNode2","AvatarNode3","number","circleRadius","WHITE","circle","list","ToatalAv","centerX","centerY","pillHeight","pillWidth","pillRadius","bodyWidth","rect","arc","Math","PI","Avatar","posX","posY","posNode","buttonPub","buttonNode","buttonSpriteFrame","spriteNode","scale","addChild","Grid","gridSize","min","y","moveTo","lineTo","j","x","createGrid","prefabType","Tie","Under","Over","name","clearGrid","cell","pref","prefabMap","TigerWin","DragonWin","clearGridNt","doc","prefL","startCountdown","timeCountDown","timereset","countdownInterval","setInterval","clearInterval","Cancel","CancelBetTiger","CancelBetDragon","CancelBetTie","tweenChildrenToPosition","targetPosition","duration","children","forEach","child","removeFromParent","DragonNode","play","TigerNode","bankCard","WinNotice","DragonWinintro","on","EventType","FINISHED","off","ExplosionDra"],"mappings":"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","sourcesContent":["import { NewComponent } from \"./PlayerList\";\nimport {\n  _decorator,\n  Component,\n  Label,\n  Node,\n  tween,\n  Vec3,\n  Animation,\n  SpriteFrame,\n  Sprite,\n  math,\n  log,\n  Graphics,\n  Color,\n  instantiate,\n  Prefab,\n  Button,\n  CCInteger,\n  AudioSource,\n  director,\n} from \"cc\";\nimport { Chip } from \"./Chip\";\nimport { NetworkConnect } from \"./NetworkConnect\";\nimport { AudioController } from \"./AudioController\";\nimport { Create } from \"phaser\";\nconst { ccclass, property } = _decorator;\ninterface Document {\n  result: string;\n  // Định nghĩa các thuộc tính khác của mỗi document ở đây nếu cần\n}\n\n@ccclass(\"GameController\")\nexport class GameController extends Component {\n  @property({\n    type: Label,\n  })\n  private betTigerLb: Label;\n\n  @property({\n    type: Label,\n  })\n  private betDragonLb: Label;\n\n  @property({\n    type: Label,\n  })\n  private betTieLb: Label;\n\n  @property({\n    type: Label,\n  })\n  private UserName: Label;\n\n  @property({\n    type: Label,\n  })\n  private BalancerLb: Label;\n\n  @property({\n    type: Label,\n  })\n  private totalUserBet: Label[] = [];\n\n  @property({\n    type: Label,\n  })\n  private NameHost: Label;\n\n  @property({\n    type: Chip,\n  })\n  private chipNode: Chip;\n\n  @property({\n    type: Node,\n  })\n  private CardNodeL: Node;\n\n  @property({\n    type: Node,\n  })\n  private CardNodeR: Node;\n\n  @property({\n    type: Node,\n  })\n  private AvatarNode: Node;\n\n  @property({\n    type: Node,\n  })\n  private AvatarNode1: Node;\n\n  @property({\n    type: Node,\n  })\n  private AvatarNode2: Node;\n\n  @property({\n    type: Node,\n  })\n  private AvatarNode3: Node;\n\n  @property({\n    type: Node,\n  })\n  private AvatarL1: Node;\n\n  @property({\n    type: Node,\n  })\n  private AvatarL2: Node;\n\n  @property({\n    type: Node,\n  })\n  private AvatarL3: Node;\n\n  @property({\n    type: Node,\n  })\n  private AvatarL4: Node;\n\n  @property({\n    type: Node,\n  })\n  private AvatarL5: Node;\n\n  @property({\n    type: Node,\n  })\n  private AvatarL6: Node;\n\n  @property({\n    type: Node,\n  })\n  private GridL: Node;\n  @property({\n    type: Node,\n  })\n  private GridR: Node;\n\n  @property({\n    type: Node,\n  })\n  private ValueAnim: Node;\n\n  @property({\n    type: Node,\n  })\n  private avaliablebet: Node;\n\n  @property({\n    type: Node,\n  })\n  private scroll: Node;\n\n  @property({\n    type: Node,\n  })\n  private ValueAnim1: Node;\n\n  @property({\n    type: Node,\n  })\n  private ValueAnim2: Node;\n\n  @property({\n    type: Node,\n  })\n  private loadingPage: Node;\n\n  @property({\n    type: AudioSource,\n  })\n  private loadingAudio: AudioSource;\n\n  @property({\n    type: Animation,\n  })\n  private CardNodeAnim: Animation;\n\n  @property({\n    type: Animation,\n  })\n  private WinNotice: Animation;\n\n  @property({\n    type: Animation,\n  })\n  private DragonWinintro: Animation;\n\n  @property({\n    type: Animation,\n  })\n  private DragonNode: Animation;\n\n  @property({\n    type: Animation,\n  })\n  private TigerNode: Animation;\n\n  @property({\n    type: Animation,\n  })\n  private StartBet: Animation;\n\n  @property({\n    type: Animation,\n  })\n  private ExplosionDra: Animation;\n\n  @property({\n    type: SpriteFrame,\n  })\n  private listCardRes: SpriteFrame[] = [];\n\n  @property({\n    type: SpriteFrame,\n  })\n  private listCardResHeart: SpriteFrame[] = [];\n\n  @property({\n    type: SpriteFrame,\n  })\n  private listCardResclubs: SpriteFrame[] = [];\n\n  @property({\n    type: SpriteFrame,\n  })\n  private listCardResdiamonds: SpriteFrame[] = [];\n\n  @property({\n    type: SpriteFrame,\n  })\n  private bankCard: SpriteFrame;\n\n  @property(Node)\n  pref: Node;\n\n  @property(Node)\n  prefL: Node;\n\n  @property(Prefab)\n  private Over: Prefab = null;\n\n  @property(Prefab)\n  private Under: Prefab = null;\n\n  @property(Prefab)\n  private Tie: Prefab = null;\n\n  // private countDownLb: Label;\n  @property({\n    type: Node,\n  })\n  private ToatalAv: Node[] = [];\n\n  @property({\n    type: Node,\n  })\n  private ToatalUser: Node[] = [];\n\n  @property({\n    type: Node,\n  })\n  private PayUser: Node[] = [];\n\n  @property({\n    type: Label,\n  })\n  private BalanceList: Label[] = [];\n\n  @property({\n    type: Label,\n  })\n  private TotalBetLB: Label[] = [];\n\n  @property({\n    type: SpriteFrame,\n  })\n  private PayUserSprite: SpriteFrame[] = [];\n\n  @property({ type: [Button] })\n  listCancelBet: Button[] = [];\n\n  @property(NetworkConnect)\n  private NetworkConnect: NetworkConnect;\n\n  @property({\n    type: AudioController,\n  })\n  private AudioController: AudioController;\n\n  private UserBetTigerIcon: number = 0;\n  private UserBetDragonIcon: number = 0;\n  private UserBetTieIcon: number = 0;\n  private clonePosCardL: Vec3 = new Vec3();\n  private clonePosCardR: Vec3 = new Vec3();\n  private randomValueCardR: number = 0;\n  private randomValueCardL: number = 0;\n  private balanceUser: number = 300;\n  private currentCol = 0;\n  private currentRow = 0;\n  private currentRowClone = 0;\n  private currentColL = 0;\n  private currentRowL = 0;\n  previousPrefabType = null;\n  previousPrefabTypeL = null;\n  winIntroType;\n  private numRows: number = 6;\n  private numCols: number = 20;\n  private cellWidth: number = 27;\n  private cellHeight: number = 30;\n  private countdownTimerBet: number = 30;\n  private cloneBalance: number = 0;\n  private GameEnd: boolean = false;\n  private GameStateStart: boolean = false;\n  private GameStateIdle: boolean = false;\n  private GameStateReuslt: boolean = false;\n  private GameStateFight: boolean = false;\n  private GameStatePayOut: boolean = false;\n  private GameStateStopBet: boolean = false;\n  private checkSateCurrent: boolean = false;\n  private checkBettedTiger: boolean = false;\n  private checkBettedDragon: boolean = false;\n  private checkBettedTie: boolean = false;\n  private loggedInUsername;\n  private sessionId;\n  private currentHostName;\n  private assignUserName: boolean = false;\n  private assignHostName: boolean = false;\n  private spriteFrame;\n  private spriteFrameR;\n  log3;\n  onLoad() {\n    this.clonePosCardL = this.CardNodeL.position.clone();\n    this.clonePosCardR = this.CardNodeR.position.clone();\n    this.shuffelCard();\n    this.drawRectangle();\n    this.drawRectangle1();\n    this.drawRectangle2();\n    this.drawRectangle3();\n    this.drawRectangleTotalUser(0);\n    this.drawRectangleTotalUser(1);\n    this.drawRectangleTotalUser(2);\n\n    this.drawRectanglel(this.AvatarL1);\n    this.drawRectanglel(this.AvatarL2);\n    this.drawRectanglel(this.AvatarL3);\n    this.drawRectanglel(this.AvatarL4);\n    this.drawRectanglel(this.AvatarL5);\n    this.drawRectanglel(this.AvatarL6);\n    this.drawGrid(this.GridL);\n    this.drawGrid(this.GridR);\n    this.drawRectangleTotal(0);\n    this.drawRectangleTotal(1);\n    this.drawRectangleTotal(2);\n    this.AudioController.settingAudio(0);\n  }\n\n  update(deltaTime: number) {\n    // this.BalancerLb.string = this.NetworkConnect.TotalBalanceUser;\n    // console.log(this.NetworkConnect.TotalBalanceUser);\n    // this.NetworkConnect.room.balance\n    if (this.NetworkConnect.balanceUser) {\n      if (this.assignUserName === false) {\n        this.sessionId = this.NetworkConnect.room.state.players.get(\n          this.NetworkConnect.room.sessionId\n        );\n        this.assignUserName = true;\n      }\n\n      this.BalancerLb.string = this.sessionId.balance;\n      this.TotalBetLB[0].string = this.NetworkConnect.betTiger.toString();\n      this.TotalBetLB[1].string = this.NetworkConnect.betDragon.toString();\n      this.TotalBetLB[2].string = this.NetworkConnect.betTie.toString();\n      this.totalUserBet[0].string =\n        this.NetworkConnect.totaluserBetTiger.toString();\n      this.totalUserBet[1].string =\n        this.NetworkConnect.totaluserBetDragon.toString();\n      this.totalUserBet[2].string =\n        this.NetworkConnect.totaluserBetTie.toString();\n    }\n\n    if (\n      this.NetworkConnect.room &&\n      this.NetworkConnect.room.sessionId !== undefined\n    ) {\n      const player = this.NetworkConnect.room.state.players.get(\n        this.NetworkConnect.room.sessionId\n      );\n      if (player && player.displayName) {\n        this.UserName.string = player.displayName;\n      } else {\n        console.warn(\n          `Display name not found for sessionId ${this.NetworkConnect.room.sessionId}`\n        );\n      }\n    }\n    if (\n      this.NetworkConnect &&\n      this.NetworkConnect.room &&\n      this.NetworkConnect.room.state &&\n      this.NetworkConnect.room.state.players\n    ) {\n      const player = this.NetworkConnect.room.state.players.get(\n        this.NetworkConnect.currentHost\n      );\n      if (player && player.displayName) {\n        this.currentHostName = player.displayName;\n      } else {\n        console.warn(\n          `Display name not found for currentHost ${this.NetworkConnect.currentHost}`\n        );\n      }\n    } else {\n      console.error(\n        \"NetworkConnect or its properties are not properly initialized.\"\n      );\n    }\n    if (\n      this.NetworkConnect.room &&\n      this.NetworkConnect.room.sessionId === this.NetworkConnect.currentHost\n    ) {\n      this.chipNode.node.active = false;\n      this.avaliablebet.active = true;\n      this.scroll.getComponent(Sprite).color = new Color(104, 104, 104, 230);\n      this.NameHost.string = this.currentHostName;\n    } else {\n      this.chipNode.node.active = true;\n      this.avaliablebet.active = false;\n      this.scroll.getComponent(Sprite).color = new Color(255, 255, 255, 255);\n      this.NameHost.string = this.currentHostName;\n    }\n    if (\n      this.NetworkConnect.gameState === \"idle\" &&\n      this.GameStateIdle === false\n    ) {\n      this.NetworkConnect.room.send(\"getHistories\");\n      this.NetworkConnect.room.onMessage(\"histories\", (message) => {\n        // console.log(\"History\", message.documents[0].result);\n        // console.log(\"History\", message.documents[0].result2);\n        this.createGridNot(message.documents);\n      });\n      this.RestartBalnce();\n      this.checkSateCurrent = true;\n      this.UserName.string = this.NetworkConnect.room.sessionId;\n      this.Idle();\n      this.GameEnd = false;\n      this.GameStateIdle = true;\n      this.GameStateReuslt = false;\n      this.GameStateFight = false;\n      this.GameStateStopBet = false;\n    }\n    if (this.NetworkConnect.gameState === \"startBetting\") {\n      this.CardNodeAnim.node.active = false;\n      this.CardNodeL.active = true;\n      this.CardNodeR.active = true;\n      this.checkSateCurrent = true;\n    }\n\n    if (\n      this.NetworkConnect.gameState === \"startBetting\" &&\n      this.GameStateStart === false\n    ) {\n      this.StartBet.node.active = true;\n      this.StartBetting();\n      this.NetworkConnect.room.send(\"getHistories\");\n      this.NetworkConnect.room.onMessage(\"histories\", (message) => {\n        console.log(\"History\", message.documents[0].result);\n        this.createGridNot(message.documents);\n      });\n      this.GameStateStart = true;\n    }\n\n    if (this.checkSateCurrent === true) {\n      this.loadingPage.active = false;\n      this.loadingAudio.volume = 0;\n      this.AudioController.settingAudio(1);\n    }\n\n    if (\n      this.NetworkConnect.gameState === \"stopBetting\" &&\n      this.GameStateStopBet === false\n    ) {\n      this.GameStateStart = false;\n      this.stopBetting();\n      this.GameStateStopBet = true;\n    }\n\n    if (\n      this.NetworkConnect.gameState === \"fight\" &&\n      this.GameStateFight === false\n    ) {\n      this.fight();\n      this.GameStateFight = true;\n    }\n    if (\n      this.NetworkConnect.gameState === \"showResult\" &&\n      this.GameStateReuslt === false\n    ) {\n      this.StartBet.node.active = false;\n      this.shownResult();\n      this.GameStateReuslt = true;\n    }\n    if (\n      this.NetworkConnect.gameState === \"payout\" &&\n      this.GameStatePayOut === false\n    ) {\n      for (let i = 0; i < this.NetworkConnect.ListLabel.length; i++) {\n        this.NetworkConnect.ListLabel[i].node.removeAllChildren();\n      }\n      // this.createGridNot();\n      // this.createGrid();\n      this.GameStatePayOut = true;\n    }\n    if (this.cloneBalance > 0) {\n      this.listCancelBet[0].node.active = true;\n    } else {\n      this.listCancelBet[0].node.active = false;\n    }\n  }\n\n  private addScore(Score: number, betLB: Label, betValueIcon: number) {\n    if (this.balanceUser >= Score) {\n      betValueIcon = betValueIcon + Score;\n      betLB.string = betValueIcon.toString();\n    }\n  }\n\n  private betTigerBtn() {\n    if (\n      this.balanceUser >= this.chipNode.UserBet &&\n      this.GameEnd === false &&\n      this.checkBettedDragon === false &&\n      this.checkBettedTie === false\n    ) {\n      if (this.chipNode.UserBet !== 0) {\n        this.checkBettedTiger = true;\n        this.NetworkConnect.room.send(\n          \"Bet\",\n          JSON.stringify({ betAmount: this.chipNode.UserBet, betType: \"Tiger\" })\n        );\n        this.ToatalUser[2].active = true;\n        this.addScore(\n          this.chipNode.UserBet,\n          this.betTigerLb,\n          this.UserBetTigerIcon\n        );\n        this.UserBetTigerIcon += this.chipNode.UserBet;\n        this.createSpriteNode(-406, 200, this.ValueAnim);\n\n        this.listCancelBet[1].node.active = true;\n      }\n\n      this.AudioController.onAudio(8);\n    }\n  }\n\n  private betDragonBtn() {\n    if (\n      this.balanceUser >= this.chipNode.UserBet &&\n      this.GameEnd === false &&\n      this.checkBettedTiger === false &&\n      this.checkBettedTie === false\n    ) {\n      if (this.chipNode.UserBet !== 0) {\n        this.checkBettedDragon = true;\n        this.NetworkConnect.room.send(\n          \"Bet\",\n          JSON.stringify({\n            betAmount: this.chipNode.UserBet,\n            betType: \"Dragon\",\n          })\n        );\n        this.addScore(\n          this.chipNode.UserBet,\n          this.betDragonLb,\n          this.UserBetDragonIcon\n        );\n        this.UserBetDragonIcon += this.chipNode.UserBet;\n\n        this.ToatalUser[0].active = true;\n        this.listCancelBet[3].node.active = true;\n        this.createSpriteNode(-951, 193, this.ValueAnim1);\n      }\n\n      this.PosBet();\n      this.AudioController.onAudio(8);\n    }\n  }\n\n  private betTieBtn() {\n    if (\n      this.balanceUser >= this.chipNode.UserBet &&\n      this.GameEnd === false &&\n      this.checkBettedDragon === false &&\n      this.checkBettedTiger === false\n    ) {\n      if (this.chipNode.UserBet !== 0) {\n        this.checkBettedTie = true;\n        this.NetworkConnect.room.send(\n          \"Bet\",\n          JSON.stringify({ betAmount: this.chipNode.UserBet, betType: \"Tie\" })\n        );\n\n        this.listCancelBet[2].node.active = true;\n        this.createSpriteNode(-670, 221, this.ValueAnim2);\n        this.ToatalUser[1].active = true;\n        this.addScore(\n          this.chipNode.UserBet,\n          this.betTieLb,\n          this.UserBetTieIcon\n        );\n        this.UserBetTieIcon += this.chipNode.UserBet;\n      }\n\n      this.AudioController.onAudio(8);\n    }\n  }\n\n  private shuffelCard() {\n    tween(this.CardNodeL)\n      .to(0.4, { position: new Vec3(1, 70) })\n      .call(() => {\n        this.CardNodeL.active = false;\n        this.CardNodeR.active = false;\n        this.CardNodeAnim.node.active = true;\n        this.AudioController.onAudio(0);\n        this.RestartBalnce();\n      })\n      .start();\n\n    tween(this.CardNodeR)\n      .to(0.4, { position: new Vec3(1, 70) })\n      .start();\n  }\n\n  private displayImages(): void {\n    // Định nghĩa ánh xạ của các bộ bài tới các tài nguyên tương ứng\n    const suitToResourceMap: { [key: string]: SpriteFrame[] } = {\n      \"1\": this.listCardRes,\n      \"4\": this.listCardResHeart,\n      \"2\": this.listCardResclubs,\n      \"3\": this.listCardResdiamonds,\n    };\n\n    this.NetworkConnect.room.onMessage(\n      \"result\",\n      (message: { dragonCard: { suit: string; value: number } }) => {\n        const cardList: SpriteFrame[] | undefined =\n          suitToResourceMap[message.dragonCard.suit];\n        if (cardList) {\n          this.spriteFrame = cardList[message.dragonCard.value - 1];\n        } else {\n          console.error(\"Unknown suit:\", message.dragonCard.suit);\n          return;\n        }\n\n        // Lấy component Sprite từ CardNodeL\n        const spriteComponent = this.CardNodeL.getComponent(Sprite);\n        if (spriteComponent) {\n          // Gán trực tiếp spriteFrame cho component Sprite\n          spriteComponent.spriteFrame = this.spriteFrame;\n        } else {\n          console.error(\"Component Sprite bị thiếu trên CardNodeL!\");\n        }\n      }\n    );\n  }\n\n  private displayImagesCardR() {\n    const suitToResourceMap: { [key: string]: SpriteFrame[] } = {\n      \"1\": this.listCardRes,\n      \"4\": this.listCardResHeart,\n      \"2\": this.listCardResclubs,\n      \"3\": this.listCardResdiamonds,\n    };\n    this.NetworkConnect.room.onMessage(\n      \"result\",\n      (message: { tigerCard: { suit: string; value: number } }) => {\n        const cardList: SpriteFrame[] | undefined =\n          suitToResourceMap[message.tigerCard.suit];\n        if (cardList) {\n          this.spriteFrameR = cardList[message.tigerCard.value - 1];\n        } else {\n          console.error(\"Unknown suit:\", message.tigerCard.suit);\n          return;\n        }\n        const sprite = this.CardNodeR.getComponent(Sprite);\n        if (sprite && this.spriteFrameR) {\n          sprite.spriteFrame = this.spriteFrameR;\n        } else {\n          console.error(\"Sprite or SpriteFrame is missing!\");\n        }\n      }\n    );\n  }\n\n  drawRectangle() {\n    const width: number = 250;\n    const height: number = 120;\n    const graphics = this.AvatarNode.addComponent(Graphics);\n    const lightGray = new Color(116, 116, 116, 100);\n    graphics.fillColor = lightGray;\n    const glowColor = Color.BLACK;\n    graphics.strokeColor = glowColor;\n    graphics.lineWidth = 5;\n    graphics.roundRect(-width / 2, -height / 2, width, height, 10);\n    graphics.fill();\n    graphics.stroke();\n  }\n\n  drawRectangle1() {\n    const width: number = 220;\n    const height: number = 110;\n    const graphics = this.AvatarNode1.addComponent(Graphics);\n    const lightGray = new Color(116, 116, 116, 100);\n    graphics.fillColor = lightGray;\n    const glowColor = Color.BLACK;\n    graphics.strokeColor = glowColor;\n    graphics.lineWidth = 5;\n    graphics.roundRect(-width / 2, -height / 2, width, height, 10);\n    graphics.fill();\n    graphics.stroke();\n  }\n\n  drawRectangle2() {\n    const width: number = 220;\n    const height: number = 110;\n    const graphics = this.AvatarNode2.addComponent(Graphics);\n    const lightGray = new Color(116, 116, 116, 100);\n    graphics.fillColor = lightGray;\n    const glowColor = Color.BLACK;\n    graphics.strokeColor = glowColor;\n    graphics.lineWidth = 5;\n    graphics.roundRect(-width / 2, -height / 2, width, height, 10);\n    graphics.fill();\n    graphics.stroke();\n  }\n\n  drawRectangle3() {\n    const width: number = 220;\n    const height: number = 110;\n    const graphics = this.AvatarNode3.addComponent(Graphics);\n    const lightGray = new Color(116, 116, 116, 100);\n    graphics.fillColor = lightGray;\n    const glowColor = Color.BLACK;\n    graphics.strokeColor = glowColor;\n    graphics.lineWidth = 5;\n    graphics.roundRect(-width / 2, -height / 2, width, height, 10);\n    graphics.fill();\n    graphics.stroke();\n  }\n\n  drawRectangleTotalUser(number: number) {\n    const width: number = 60;\n    const height: number = 20;\n    const graphics = this.ToatalUser[number].addComponent(Graphics);\n    const lightGray = new Color(0, 0, 0, 255);\n    graphics.fillColor = lightGray;\n    const glowColor = Color.BLACK;\n    graphics.strokeColor = glowColor;\n    graphics.lineWidth = 5;\n    graphics.roundRect(-width / 2, -height / 2, width, height, 2);\n    graphics.fill();\n    graphics.stroke();\n\n    const circleRadius: number = 10;\n    graphics.fillColor = Color.WHITE; // Màu trắng\n    graphics.strokeColor = Color.BLACK; // Viền màu đen\n    graphics.circle(-20, 0, circleRadius); // Vẽ hình tròn tại tọa độ (0,0) với bán kính circleRadius\n    graphics.fill(); // Tô màu\n    graphics.stroke(); // Vẽ viền\n  }\n  private drawRectangleTotal(list: number) {\n    const width: number = 100;\n    const height: number = 70;\n    const graphics = this.ToatalAv[list].addComponent(Graphics);\n    const lightGray = new Color(0, 0, 0, 255);\n    graphics.fillColor = lightGray;\n    const glowColor = Color.BLACK;\n    graphics.strokeColor = glowColor;\n    graphics.lineWidth = 1;\n\n    // Tính toán các điểm để vẽ viên thuốc\n    const centerX = 0;\n    const centerY = 0;\n    const pillHeight = height * 0.6; // Chiều cao của viên thuốc\n    const pillWidth = width * 0.8; // Chiều rộng của viên thuốc\n    const pillRadius = pillHeight / 2; // Bán kính của đầu viên thuốc\n    const bodyWidth = width * 0.5; // Chiều rộng của phần thân viên thuốc\n\n    // Vẽ phần thân của viên thuốc\n    graphics.rect(\n      centerX - bodyWidth / 2,\n      centerY - pillRadius,\n      bodyWidth,\n      pillHeight\n    );\n\n    // Vẽ đầu viên thuốc bên trái\n    graphics.arc(\n      centerX - pillWidth / 2 + pillRadius,\n      centerY,\n      pillRadius,\n      -Math.PI / 2,\n      Math.PI / 2,\n      false\n    );\n\n    // Vẽ đầu viên thuốc bên phải\n    graphics.arc(\n      centerX + pillWidth / 2 - pillRadius,\n      centerY,\n      pillRadius,\n      Math.PI / 2,\n      -Math.PI / 2,\n      false\n    );\n\n    graphics.fill(); // Đổ màu\n    graphics.stroke(); // Vẽ viền\n  }\n  drawRectanglel(Avatar: Node) {\n    const width: number = 220;\n    const height: number = 100;\n    const graphics = Avatar.addComponent(Graphics);\n\n    const lightGray = new Color(116, 116, 116, 100);\n    graphics.fillColor = lightGray;\n    const glowColor = Color.BLACK;\n    graphics.strokeColor = glowColor;\n    graphics.lineWidth = 5;\n    graphics.roundRect(-width / 2, -height / 2, width, height, 10);\n    graphics.fill();\n    graphics.stroke();\n  }\n\n  createSpriteNode(posX, posY, posNode) {\n    // Kiểm tra xem chipNode và buttonPub đã được xác định chưa\n    if (this.chipNode && this.chipNode.buttonPub) {\n      const buttonNode = this.chipNode.buttonPub.node;\n\n      // Kiểm tra xem buttonNode và spriteFrame có tồn tại không\n      if (buttonNode && buttonNode.getComponent(Sprite)) {\n        const buttonSpriteFrame = buttonNode.getComponent(Sprite).spriteFrame;\n        const spriteNode = new Node(\"SpriteNode\");\n        spriteNode.scale = new Vec3(0.5, 0.5);\n        const spriteComponent = spriteNode.addComponent(Sprite);\n        spriteComponent.spriteFrame = buttonSpriteFrame;\n        posNode.addChild(spriteNode);\n        // Bắt đầu tween animation sau khi spriteNode đã được thêm vào posNode\n        tween(spriteNode)\n          .to(0.3, { position: new Vec3(posX, posY) })\n          .start();\n      } else {\n        console.error(\"Button node or sprite frame is undefined\");\n      }\n    } else {\n      return;\n    }\n  }\n  drawGrid(Grid: Node) {\n    const numRows: number = this.numRows;\n    const numCols: number = this.numCols;\n    const gridSize: number = Math.min(575 / numCols, 200 / numRows); // Kích thước ô vuông\n    const cellWidth: number = this.cellWidth; // Chiều rộng của mỗi ô\n    const cellHeight: number = this.cellHeight; // Chiều cao của mỗi ô\n\n    const graphics = Grid.addComponent(Graphics);\n    const lightGray = new Color(116, 116, 116, 50);\n    const glowColor = Color.BLACK;\n    graphics.strokeColor = glowColor;\n    graphics.lineWidth = 4;\n\n    // Vẽ các đường ngang\n    for (let i = 0; i <= numRows; i++) {\n      const y = i * cellHeight - (numRows * cellHeight) / 2; // Đặt lưới vào giữa theo chiều cao\n      graphics.moveTo((-numCols * cellWidth) / 2, y);\n      graphics.lineTo((numCols * cellWidth) / 2, y);\n      graphics.stroke();\n    }\n\n    for (let j = 0; j <= numCols; j++) {\n      const x = j * cellWidth - (numCols * cellWidth) / 2; // Đặt lưới vào giữa theo chiều rộng\n      graphics.moveTo(x, (-numRows * cellHeight) / 2);\n      graphics.lineTo(x, (numRows * cellHeight) / 2);\n      graphics.stroke();\n    }\n\n    // Tô màu cho lưới\n    graphics.fillColor = lightGray;\n    graphics.rect(\n      (-numCols * cellWidth) / 2,\n      (-numRows * cellHeight) / 2,\n      numCols * cellWidth,\n      numRows * cellHeight\n    );\n    graphics.fill();\n  }\n\n  private createGrid() {\n    let prefabType;\n    if (this.NetworkConnect.result === \"Tie\") {\n      prefabType = this.Tie;\n    } else if (this.NetworkConnect.result === \"tigerWin\") {\n      prefabType = this.Under;\n    } else if (this.NetworkConnect.result === \"dragonWin\") {\n      prefabType = this.Over;\n    }\n\n    if (\n      this.currentRowClone > 5 &&\n      prefabType.name !== this.previousPrefabType.name\n    ) {\n      this.currentCol++;\n      // this.currentRow = 0;\n      if (this.currentCol >= this.numCols) {\n        this.clearGrid();\n        this.currentCol = 0;\n      }\n    }\n    if (\n      this.previousPrefabType !== null &&\n      prefabType.name !== this.previousPrefabType.name\n    ) {\n      this.currentCol++;\n      this.currentRow = 0;\n      this.currentRowClone = 0;\n      if (this.currentCol >= this.numCols) {\n        this.clearGrid();\n        this.currentCol = 0;\n      }\n    }\n\n    const cell = instantiate(prefabType);\n    const posX = this.currentCol * this.cellWidth;\n    const posY = -this.currentRow * this.cellHeight;\n    cell.position = new Vec3(posX, posY);\n    this.pref.addChild(cell);\n\n    this.previousPrefabType = prefabType;\n    this.currentRowClone++;\n    if (this.currentRow < 5) {\n      this.currentRow++;\n    }\n  }\n\n  private clearGrid() {\n    this.pref.removeAllChildren();\n  }\n\n  // private createGridNot() {\n  //   let prefabType;\n  //   if (this.NetworkConnect.result === \"Tie\") {\n  //     prefabType = this.Tie;\n  //   } else if (this.NetworkConnect.result === \"tigerWin\") {\n  //     prefabType = this.Under;\n  //   } else if (this.NetworkConnect.result === \"dragonWin\") {\n  //     prefabType = this.Over;\n  //   }\n  //   if (this.currentRowL >= this.numRows) {\n  //     this.currentColL++;\n  //     this.currentRowL = 0;\n  //     if (this.currentColL >= this.numCols) {\n  //       this.clearGridNt();\n  //       this.currentCol = 0;\n  //     }\n  //   }\n  //   const cell = instantiate(prefabType);\n  //   const posX = this.currentColL * this.cellWidth; // Tính vị trí x dựa trên chỉ mục cột hiện tại\n  //   const posY = -this.currentRowL * this.cellHeight; // Tính vị trí y dựa trên chỉ mục hàng hiện tại\n  //   cell.position = new Vec3(posX, posY);\n  //   this.prefL.addChild(cell);\n  //   this.currentRowL++;\n  // }\n\n  private createGridNot(documents: Document[]) {\n    // Ánh xạ các giá trị với prefab tương ứng\n    const prefabMap: { [key: string]: any } = {\n      TigerWin: this.Under,\n      DragonWin: this.Over,\n      Tie: this.Tie,\n    };\n    this.clearGridNt();\n    this.currentRowL = 0;\n    this.currentColL = 0;\n    // this.currentCol = 0;\n    // this.currentRowL = 0;\n    for (const doc of documents[0].result) {\n      const prefabType = prefabMap[doc];\n      if (prefabType) {\n        if (this.currentRowL >= this.numRows) {\n          this.currentColL++;\n          this.currentRowL = 0;\n          if (this.currentCol >= this.numCols) {\n            this.clearGridNt();\n            this.currentCol = 0;\n          }\n        }\n        // console.log(\"col\", this.currentCol);\n\n        const cell = instantiate(prefabType);\n        const posX = this.currentColL * this.cellWidth;\n        const posY = -this.currentRowL * this.cellHeight;\n        cell.position = new Vec3(posX, posY);\n        this.prefL.addChild(cell);\n        this.currentRowL++;\n      } else {\n        console.error(`Prefab type not found for result: ${doc}`);\n      }\n    }\n  }\n\n  private clearGridNt() {\n    this.prefL.removeAllChildren();\n  }\n\n  private startCountdown(timeCountDown: number, timereset: number) {\n    this.countdownTimerBet = 30;\n    const countdownInterval = setInterval(() => {\n      this.countdownTimerBet--;\n      if (this.countdownTimerBet <= 0) {\n        clearInterval(countdownInterval);\n      }\n    }, 1000);\n  }\n\n  private Cancel() {\n    if (this.GameEnd === false) {\n      this.ToatalUser[0].active = false;\n      this.ToatalUser[1].active = false;\n      this.ToatalUser[2].active = false;\n      this.listCancelBet[0].node.active = false;\n      this.listCancelBet[1].node.active = false;\n      this.listCancelBet[2].node.active = false;\n      this.listCancelBet[3].node.active = false;\n      this.UserBetDragonIcon = 0;\n      this.UserBetTieIcon = 0;\n      this.UserBetTigerIcon = 0;\n      this.balanceUser = this.balanceUser + this.cloneBalance;\n      this.cloneBalance = 0;\n      this.BalancerLb.string = this.balanceUser.toString();\n      this.betDragonLb.string = this.UserBetDragonIcon.toString();\n      this.betTigerLb.string = this.UserBetTigerIcon.toString();\n      this.betTieLb.string = this.UserBetTieIcon.toString();\n      this.ValueAnim.removeAllChildren();\n      this.ValueAnim1.removeAllChildren();\n      this.ValueAnim2.removeAllChildren();\n    }\n    this.AudioController.onAudio(7);\n  }\n\n  private RestartBalnce() {\n    this.checkBettedDragon = false;\n    this.checkBettedTiger = false;\n    this.checkBettedTie = false;\n    this.ToatalUser[0].active = false;\n    this.ToatalUser[1].active = false;\n    this.ToatalUser[2].active = false;\n    this.listCancelBet[0].node.active = false;\n    this.listCancelBet[1].node.active = false;\n    this.listCancelBet[2].node.active = false;\n    this.listCancelBet[3].node.active = false;\n    this.UserBetDragonIcon = 0;\n    this.UserBetTieIcon = 0;\n    this.UserBetTigerIcon = 0;\n    this.cloneBalance = 0;\n    this.betDragonLb.string = this.UserBetDragonIcon.toString();\n    this.betTigerLb.string = this.UserBetTigerIcon.toString();\n    this.betTieLb.string = this.UserBetTieIcon.toString();\n    this.ValueAnim.removeAllChildren();\n    this.ValueAnim1.removeAllChildren();\n    this.ValueAnim2.removeAllChildren();\n  }\n\n  private CancelBetTiger() {\n    if (this.GameEnd === false) {\n      this.NetworkConnect.room.send(\"cancel\");\n\n      this.checkBettedTiger = false;\n      this.ToatalUser[2].active = false;\n      this.listCancelBet[1].node.active = false;\n\n      this.cloneBalance = this.cloneBalance - this.UserBetTigerIcon;\n      this.balanceUser = this.balanceUser + this.UserBetTigerIcon;\n      this.BalancerLb.string = this.balanceUser.toString();\n      this.UserBetTigerIcon = 0;\n      this.betTigerLb.string = this.UserBetTigerIcon.toString();\n      this.ValueAnim.removeAllChildren();\n    }\n    this.AudioController.onAudio(7);\n  }\n\n  private CancelBetDragon() {\n    if (this.GameEnd === false) {\n      this.NetworkConnect.room.send(\"cancel\");\n      this.checkBettedDragon = false;\n      this.ToatalUser[0].active = false;\n      this.listCancelBet[3].node.active = false;\n      this.cloneBalance = this.cloneBalance - this.UserBetDragonIcon;\n      this.balanceUser = this.balanceUser + this.UserBetDragonIcon;\n      this.BalancerLb.string = this.balanceUser.toString();\n      this.UserBetDragonIcon = 0;\n      this.betDragonLb.string = this.UserBetDragonIcon.toString();\n      this.ValueAnim1.removeAllChildren();\n    }\n    this.AudioController.onAudio(7);\n  }\n\n  private CancelBetTie() {\n    if (this.GameEnd === false) {\n      this.NetworkConnect.room.send(\"cancel\");\n      this.NetworkConnect.room.onMessage(\"cancel\", (message) => {});\n      this.checkBettedTie = false;\n      this.ToatalUser[1].active = false;\n      this.listCancelBet[2].node.active = false;\n\n      this.cloneBalance = this.cloneBalance - this.UserBetTieIcon;\n      this.balanceUser = this.balanceUser + this.UserBetTieIcon;\n      this.BalancerLb.string = this.balanceUser.toString();\n      this.UserBetTieIcon = 0;\n      this.betTieLb.string = this.UserBetTieIcon.toString();\n      this.ValueAnim2.removeAllChildren();\n    }\n    this.AudioController.onAudio(7);\n  }\n\n  tweenChildrenToPosition(node: Node, targetPosition: Vec3, duration: number) {\n    node.children.forEach((child: Node) => {\n      tween(child)\n        .to(duration, { position: targetPosition })\n        .call(() => {\n          this.AudioController.onAudio(5);\n          child.removeFromParent();\n        })\n\n        .start();\n    });\n  }\n\n  private Idle() {\n    this.shuffelCard();\n    this.DragonNode.play(\"DragonIde\");\n    this.TigerNode.play(\"TigerIde\");\n    this.GameStatePayOut = false;\n    // this.GameStateStart = false;\n  }\n\n  private StartBetting() {\n    this.GameStateIdle = false;\n    this.CardNodeAnim.node.active = false;\n    this.CardNodeL.active = true;\n    this.CardNodeR.active = true;\n    this.CardNodeR.getComponent(Sprite).spriteFrame = this.bankCard;\n    this.CardNodeL.getComponent(Sprite).spriteFrame = this.bankCard;\n    this.StartBet.play(\"Startbet\");\n    tween(this.CardNodeL)\n      .to(0.4, { position: this.clonePosCardL })\n      .call(() => {\n        // this.GameEnd = false;\n        this.AudioController.onAudio(1);\n      })\n      .start();\n    tween(this.CardNodeR)\n      .to(0.4, { position: this.clonePosCardR })\n      .call(() => {})\n      .start();\n    // this.GameStateStart = true;\n  }\n\n  private stopBetting() {\n    this.StartBet.play(\"EndBet\");\n    this.AudioController.onAudio(2);\n    this.GameEnd = true;\n  }\n  private PosBet() {}\n\n  private fight() {\n    if (this.NetworkConnect.result === \"tigerWin\") {\n      this.balanceUser = this.balanceUser + this.UserBetTigerIcon * 2;\n      this.BalancerLb.string = this.balanceUser.toString();\n      this.WinNotice.play(\"TigerWin\");\n      this.DragonWinintro.play(\"TigerIntro\");\n      this.winIntroType = \"TigerIntro\";\n      this.DragonWinintro.on(Animation.EventType.FINISHED, () => {\n        if (this.winIntroType === \"TigerIntro\") {\n          this.TigerNode.play(\"TigerAttack\");\n          this.TigerNode.on(Animation.EventType.FINISHED, () => {\n            this.DragonNode.play(\"DragonHurt\");\n            this.DragonNode.on(Animation.EventType.FINISHED, () => {\n              this.DragonNode.play(\"DragonIde\");\n              this.tweenChildrenToPosition(\n                this.ValueAnim,\n                new Vec3(30, 560),\n                0.5\n              );\n              this.tweenChildrenToPosition(\n                this.ValueAnim1,\n                new Vec3(30, 560),\n                0.5\n              );\n              this.tweenChildrenToPosition(\n                this.ValueAnim2,\n                new Vec3(30, 560),\n                0.5\n              );\n            });\n\n            this.TigerNode.play(\"TigerIde\");\n            this.TigerNode.off(Animation.EventType.FINISHED);\n          });\n        }\n      });\n    }\n    if (this.NetworkConnect.result === \"dragonWin\") {\n      this.balanceUser = this.balanceUser + this.UserBetDragonIcon * 2;\n      this.BalancerLb.string = this.balanceUser.toString();\n      this.WinNotice.play(\"DragonWinIcon\");\n      this.DragonWinintro.play(\"DragonIntro\");\n      // Sử dụng biến để xác định loại WinIntro\n      this.winIntroType = \"DragonIntro\";\n      this.DragonWinintro.on(Animation.EventType.FINISHED, () => {\n        // Kiểm tra loại WinIntro\n        if (this.winIntroType === \"DragonIntro\") {\n          this.DragonNode.play(\"DragonAttack\");\n          this.AudioController.onAudio(12);\n          this.DragonNode.on(Animation.EventType.FINISHED, () => {\n            this.ExplosionDra.play();\n            this.AudioController.onAudio(10);\n            this.TigerNode.play(\"TigerHurt\");\n            this.TigerNode.on(Animation.EventType.FINISHED, () => {\n              this.TigerNode.play(\"TigerIde\");\n              this.tweenChildrenToPosition(\n                this.ValueAnim,\n                new Vec3(30, 560),\n                0.5\n              );\n              this.tweenChildrenToPosition(\n                this.ValueAnim1,\n                new Vec3(30, 560),\n                0.5\n              );\n              this.tweenChildrenToPosition(\n                this.ValueAnim2,\n                new Vec3(30, 560),\n                0.5\n              );\n            });\n            this.DragonNode.play(\"DragonIde\");\n            this.DragonNode.off(Animation.EventType.FINISHED);\n          });\n        }\n      });\n    }\n    if (this.NetworkConnect.result === \"Tie\") {\n      this.tweenChildrenToPosition(this.ValueAnim, new Vec3(30, 560), 0.5);\n      this.tweenChildrenToPosition(this.ValueAnim1, new Vec3(30, 560), 0.5);\n      this.tweenChildrenToPosition(this.ValueAnim2, new Vec3(30, 560), 0.5);\n    }\n  }\n  private shownResult() {\n    this.NetworkConnect.room.onMessage(\n      \"result\",\n      (message: { dragonCard: { suit: string; value: number } }) => {}\n    );\n    tween(this.CardNodeL)\n      .to(0.4, {\n        position: new Vec3(\n          this.CardNodeL.position.x + 100,\n          this.CardNodeL.position.y - 300\n        ),\n      })\n      .call(() => {\n        this.displayImages();\n      })\n      .start();\n\n    tween(this.CardNodeR)\n      .to(0.4, {\n        position: new Vec3(\n          this.CardNodeR.position.x - 100,\n          this.CardNodeR.position.y - 300\n        ),\n      })\n      .call(() => {\n        this.displayImagesCardR();\n        // this.createGrid();\n        // this.createGridNot();\n      })\n      .start();\n  }\n}\n"]}