{"version":3,"sources":["file:///Users/waostudio/Desktop/Fix4/node_modules/node-fetch/lib/index.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","_interopDefault","ex","Stream","http","Url","whatwgUrl","https","zlib","Readable","BUFFER","Symbol","TYPE","Blob","constructor","blobParts","arguments","options","buffers","size","a","length","Number","i","element","buffer","Buffer","ArrayBuffer","isView","from","byteOffset","byteLength","String","push","concat","type","undefined","toLowerCase","test","text","Promise","resolve","toString","arrayBuffer","buf","ab","slice","stream","readable","_read","start","end","relativeStart","relativeEnd","Math","max","min","span","slicedBuffer","blob","defineProperties","prototype","enumerable","toStringTag","writable","configurable","FetchError","message","systemError","Error","call","code","errno","captureStackTrace","create","name","convert","e","INTERNALS","PassThrough","Body","body","_this","_ref","_ref$size","_ref$timeout","timeout","isURLSearchParams","isBlob","isBuffer","disturbed","error","on","err","bodyUsed","consumeBody","then","ct","headers","get","assign","json","_this2","JSON","parse","reject","textConverted","_this3","convertBody","mixIn","proto","getOwnPropertyNames","desc","getOwnPropertyDescriptor","_this4","TypeError","alloc","accum","accumBytes","abort","resTimeout","setTimeout","chunk","clearTimeout","charset","res","str","exec","pop","obj","append","delete","getAll","has","set","sort","clone","instance","p1","p2","getBoundary","pipe","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","writeToStream","dest","write","global","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","find","map","key","MAP","Headers","init","rawHeaders","raw","headerNames","keys","headerName","method","iterator","pairs","pair","Array","join","forEach","callback","thisArg","getHeaders","_pairs$i","createHeadersIterator","values","entries","kind","k","INTERNAL","target","HeadersIteratorPrototype","index","setPrototypeOf","next","getPrototypeOf","_INTERNAL","len","done","exportNodeCompatibleHeaders","__proto__","hostHeaderKey","createHeadersLenient","isArray","val","INTERNALS$1","STATUS_CODES","Response","opts","status","contentType","statusText","counter","ok","redirected","INTERNALS$2","URL","parse_url","format_url","format","parseURL","urlStr","streamDestructionSupported","isRequest","input","isAbortSignal","signal","Request","parsedURL","href","toUpperCase","inputBody","redirect","follow","compress","agent","getNodeRequestOptions","request","protocol","hostname","contentLengthValue","totalBytes","AbortError","URL$1","PassThrough$1","isDomainOrSubdomain","destination","original","orig","endsWith","fetch","send","response","destroy","emit","aborted","abortAndFinalize","finalize","req","reqTimeout","addEventListener","removeEventListener","once","socket","isRedirect","statusCode","location","locationURL","requestOpts","response_options","statusMessage","codings","zlibOptions","flush","Z_SYNC_FLUSH","finishFlush","createGunzip","createInflate","createInflateRaw","createBrotliDecompress","default","_cjsExports","___esModule","__esModule","_default","_Headers","_Request","_Response","_FetchError"],"mappings":";;;;;;;;;AAAOA,MAAAA,U;;AACkBC,MAAAA,I,WAAhBC,Y;;AACgBC,MAAAA,K,SAAhBD,Y;;AACgBE,MAAAA,K,QAAhBF,Y;;AACgBG,MAAAA,K,cAAhBH,Y;;AACgBI,MAAAA,K,UAAhBJ,Y;;AACgBK,MAAAA,K,SAAhBL,Y;;AACgBM,MAAAA,K,aAAhBN,Y;;;8BAQHA,Y,GAAe,cAAYO,G;;AACjCT,MAAAA,UAAU,CAACU,MAAX,CAAkBR,YAAlB,EAAgC,UAAUS,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,EAA2D;AAC3F;AAGC;;AAEAC,QAAAA,MAAM,CAACC,cAAP,CAAsBN,OAAtB,EAA+B,YAA/B,EAA6C;AAAEO,UAAAA,KAAK,EAAE;AAAT,SAA7C;;AAEA,iBAASC,eAAT,CAA0BC,EAA1B,EAA8B;AAAE,iBAAQA,EAAE,IAAK,OAAOA,EAAP,KAAc,QAArB,IAAkC,aAAaA,EAAhD,GAAsDA,EAAE,CAAC,SAAD,CAAxD,GAAsEA,EAA7E;AAAkF;;AAElH,YAAIC,MAAM,GAAGF,eAAe,CAACP,OAAO,CAAC,QAAD,CAAR,CAA5B;;AACA,YAAIU,IAAI,GAAGH,eAAe,CAACP,OAAO,CAAC,MAAD,CAAR,CAA1B;;AACA,YAAIW,GAAG,GAAGJ,eAAe,CAACP,OAAO,CAAC,KAAD,CAAR,CAAzB;;AACA,YAAIY,SAAS,GAAGL,eAAe,CAACP,OAAO,CAAC,YAAD,CAAR,CAA/B;;AACA,YAAIa,KAAK,GAAGN,eAAe,CAACP,OAAO,CAAC,OAAD,CAAR,CAA3B;;AACA,YAAIc,IAAI,GAAGP,eAAe,CAACP,OAAO,CAAC,MAAD,CAAR,CAA1B,CAf0F,CAiB1F;AAEA;;;AACA,YAAMe,QAAQ,GAAGN,MAAM,CAACM,QAAxB;AAEA,YAAMC,MAAM,GAAGC,MAAM,CAAC,QAAD,CAArB;AACA,YAAMC,IAAI,GAAGD,MAAM,CAAC,MAAD,CAAnB;;AAEA,cAAME,IAAN,CAAW;AACVC,UAAAA,WAAW,GAAG;AACb,iBAAKF,IAAL,IAAa,EAAb;AAEA,gBAAMG,SAAS,GAAGC,SAAS,CAAC,CAAD,CAA3B;AACA,gBAAMC,OAAO,GAAGD,SAAS,CAAC,CAAD,CAAzB;AAEA,gBAAME,OAAO,GAAG,EAAhB;AACA,gBAAIC,IAAI,GAAG,CAAX;;AAEA,gBAAIJ,SAAJ,EAAe;AACd,kBAAMK,CAAC,GAAGL,SAAV;AACA,kBAAMM,MAAM,GAAGC,MAAM,CAACF,CAAC,CAACC,MAAH,CAArB;;AACA,mBAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,MAApB,EAA4BE,CAAC,EAA7B,EAAiC;AAChC,oBAAMC,OAAO,GAAGJ,CAAC,CAACG,CAAD,CAAjB;AACA,oBAAIE,MAAM,SAAV;;AACA,oBAAID,OAAO,YAAYE,MAAvB,EAA+B;AAC9BD,kBAAAA,MAAM,GAAGD,OAAT;AACA,iBAFD,MAEO,IAAIG,WAAW,CAACC,MAAZ,CAAmBJ,OAAnB,CAAJ,EAAiC;AACvCC,kBAAAA,MAAM,GAAGC,MAAM,CAACG,IAAP,CAAYL,OAAO,CAACC,MAApB,EAA4BD,OAAO,CAACM,UAApC,EAAgDN,OAAO,CAACO,UAAxD,CAAT;AACA,iBAFM,MAEA,IAAIP,OAAO,YAAYG,WAAvB,EAAoC;AAC1CF,kBAAAA,MAAM,GAAGC,MAAM,CAACG,IAAP,CAAYL,OAAZ,CAAT;AACA,iBAFM,MAEA,IAAIA,OAAO,YAAYX,IAAvB,EAA6B;AACnCY,kBAAAA,MAAM,GAAGD,OAAO,CAACd,MAAD,CAAhB;AACA,iBAFM,MAEA;AACNe,kBAAAA,MAAM,GAAGC,MAAM,CAACG,IAAP,CAAY,OAAOL,OAAP,KAAmB,QAAnB,GAA8BA,OAA9B,GAAwCQ,MAAM,CAACR,OAAD,CAA1D,CAAT;AACA;;AACDL,gBAAAA,IAAI,IAAIM,MAAM,CAACJ,MAAf;AACAH,gBAAAA,OAAO,CAACe,IAAR,CAAaR,MAAb;AACA;AACD;;AAED,iBAAKf,MAAL,IAAegB,MAAM,CAACQ,MAAP,CAAchB,OAAd,CAAf;AAEA,gBAAIiB,IAAI,GAAGlB,OAAO,IAAIA,OAAO,CAACkB,IAAR,KAAiBC,SAA5B,IAAyCJ,MAAM,CAACf,OAAO,CAACkB,IAAT,CAAN,CAAqBE,WAArB,EAApD;;AACA,gBAAIF,IAAI,IAAI,CAAC,mBAAmBG,IAAnB,CAAwBH,IAAxB,CAAb,EAA4C;AAC3C,mBAAKvB,IAAL,IAAauB,IAAb;AACA;AACD;;AACO,cAAJhB,IAAI,GAAG;AACV,mBAAO,KAAKT,MAAL,EAAaW,MAApB;AACA;;AACO,cAAJc,IAAI,GAAG;AACV,mBAAO,KAAKvB,IAAL,CAAP;AACA;;AACD2B,UAAAA,IAAI,GAAG;AACN,mBAAOC,OAAO,CAACC,OAAR,CAAgB,KAAK/B,MAAL,EAAagC,QAAb,EAAhB,CAAP;AACA;;AACDC,UAAAA,WAAW,GAAG;AACb,gBAAMC,GAAG,GAAG,KAAKlC,MAAL,CAAZ;AACA,gBAAMmC,EAAE,GAAGD,GAAG,CAACnB,MAAJ,CAAWqB,KAAX,CAAiBF,GAAG,CAACd,UAArB,EAAiCc,GAAG,CAACd,UAAJ,GAAiBc,GAAG,CAACb,UAAtD,CAAX;AACA,mBAAOS,OAAO,CAACC,OAAR,CAAgBI,EAAhB,CAAP;AACA;;AACDE,UAAAA,MAAM,GAAG;AACR,gBAAMC,QAAQ,GAAG,IAAIvC,QAAJ,EAAjB;;AACAuC,YAAAA,QAAQ,CAACC,KAAT,GAAiB,YAAY,CAAE,CAA/B;;AACAD,YAAAA,QAAQ,CAACf,IAAT,CAAc,KAAKvB,MAAL,CAAd;AACAsC,YAAAA,QAAQ,CAACf,IAAT,CAAc,IAAd;AACA,mBAAOe,QAAP;AACA;;AACDN,UAAAA,QAAQ,GAAG;AACV,mBAAO,eAAP;AACA;;AACDI,UAAAA,KAAK,GAAG;AACP,gBAAM3B,IAAI,GAAG,KAAKA,IAAlB;AAEA,gBAAM+B,KAAK,GAAGlC,SAAS,CAAC,CAAD,CAAvB;AACA,gBAAMmC,GAAG,GAAGnC,SAAS,CAAC,CAAD,CAArB;AACA,gBAAIoC,aAAJ,EAAmBC,WAAnB;;AACA,gBAAIH,KAAK,KAAKd,SAAd,EAAyB;AACxBgB,cAAAA,aAAa,GAAG,CAAhB;AACA,aAFD,MAEO,IAAIF,KAAK,GAAG,CAAZ,EAAe;AACrBE,cAAAA,aAAa,GAAGE,IAAI,CAACC,GAAL,CAASpC,IAAI,GAAG+B,KAAhB,EAAuB,CAAvB,CAAhB;AACA,aAFM,MAEA;AACNE,cAAAA,aAAa,GAAGE,IAAI,CAACE,GAAL,CAASN,KAAT,EAAgB/B,IAAhB,CAAhB;AACA;;AACD,gBAAIgC,GAAG,KAAKf,SAAZ,EAAuB;AACtBiB,cAAAA,WAAW,GAAGlC,IAAd;AACA,aAFD,MAEO,IAAIgC,GAAG,GAAG,CAAV,EAAa;AACnBE,cAAAA,WAAW,GAAGC,IAAI,CAACC,GAAL,CAASpC,IAAI,GAAGgC,GAAhB,EAAqB,CAArB,CAAd;AACA,aAFM,MAEA;AACNE,cAAAA,WAAW,GAAGC,IAAI,CAACE,GAAL,CAASL,GAAT,EAAchC,IAAd,CAAd;AACA;;AACD,gBAAMsC,IAAI,GAAGH,IAAI,CAACC,GAAL,CAASF,WAAW,GAAGD,aAAvB,EAAsC,CAAtC,CAAb;AAEA,gBAAM3B,MAAM,GAAG,KAAKf,MAAL,CAAf;AACA,gBAAMgD,YAAY,GAAGjC,MAAM,CAACqB,KAAP,CAAaM,aAAb,EAA4BA,aAAa,GAAGK,IAA5C,CAArB;AACA,gBAAME,IAAI,GAAG,IAAI9C,IAAJ,CAAS,EAAT,EAAa;AAAEsB,cAAAA,IAAI,EAAEnB,SAAS,CAAC,CAAD;AAAjB,aAAb,CAAb;AACA2C,YAAAA,IAAI,CAACjD,MAAD,CAAJ,GAAegD,YAAf;AACA,mBAAOC,IAAP;AACA;;AA1FS;;AA6FX7D,QAAAA,MAAM,CAAC8D,gBAAP,CAAwB/C,IAAI,CAACgD,SAA7B,EAAwC;AACvC1C,UAAAA,IAAI,EAAE;AAAE2C,YAAAA,UAAU,EAAE;AAAd,WADiC;AAEvC3B,UAAAA,IAAI,EAAE;AAAE2B,YAAAA,UAAU,EAAE;AAAd,WAFiC;AAGvChB,UAAAA,KAAK,EAAE;AAAEgB,YAAAA,UAAU,EAAE;AAAd;AAHgC,SAAxC;AAMAhE,QAAAA,MAAM,CAACC,cAAP,CAAsBc,IAAI,CAACgD,SAA3B,EAAsClD,MAAM,CAACoD,WAA7C,EAA0D;AACzD/D,UAAAA,KAAK,EAAE,MADkD;AAEzDgE,UAAAA,QAAQ,EAAE,KAF+C;AAGzDF,UAAAA,UAAU,EAAE,KAH6C;AAIzDG,UAAAA,YAAY,EAAE;AAJ2C,SAA1D;AAOA;AACD;AACA;AACA;AACA;;AAEC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACC,iBAASC,UAAT,CAAoBC,OAApB,EAA6BhC,IAA7B,EAAmCiC,WAAnC,EAAgD;AAC9CC,UAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBH,OAAjB;AAEA,eAAKA,OAAL,GAAeA,OAAf;AACA,eAAKhC,IAAL,GAAYA,IAAZ,CAJ8C,CAM9C;;AACA,cAAIiC,WAAJ,EAAiB;AACf,iBAAKG,IAAL,GAAY,KAAKC,KAAL,GAAaJ,WAAW,CAACG,IAArC;AACD,WAT6C,CAW9C;;;AACAF,UAAAA,KAAK,CAACI,iBAAN,CAAwB,IAAxB,EAA8B,KAAK3D,WAAnC;AACD;;AAEDoD,QAAAA,UAAU,CAACL,SAAX,GAAuB/D,MAAM,CAAC4E,MAAP,CAAcL,KAAK,CAACR,SAApB,CAAvB;AACAK,QAAAA,UAAU,CAACL,SAAX,CAAqB/C,WAArB,GAAmCoD,UAAnC;AACAA,QAAAA,UAAU,CAACL,SAAX,CAAqBc,IAArB,GAA4B,YAA5B;AAEA,YAAIC,OAAJ;;AACA,YAAI;AACHA,UAAAA,OAAO,GAAGlF,OAAO,CAAC,UAAD,CAAP,CAAoBkF,OAA9B;AACA,SAFD,CAEE,OAAOC,CAAP,EAAU,CAAE;;AAEd,YAAMC,SAAS,GAAGnE,MAAM,CAAC,gBAAD,CAAxB,CAzK0F,CA2K1F;;AACA,YAAMoE,WAAW,GAAG5E,MAAM,CAAC4E,WAA3B;AAEA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACC,iBAASC,IAAT,CAAcC,IAAd,EAAoB;AACnB,cAAIC,KAAK,GAAG,IAAZ;;AAEA,cAAIC,IAAI,GAAGnE,SAAS,CAACK,MAAV,GAAmB,CAAnB,IAAwBL,SAAS,CAAC,CAAD,CAAT,KAAiBoB,SAAzC,GAAqDpB,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AAAA,cACIoE,SAAS,GAAGD,IAAI,CAAChE,IADrB;;AAGA,cAAIA,IAAI,GAAGiE,SAAS,KAAKhD,SAAd,GAA0B,CAA1B,GAA8BgD,SAAzC;AACA,cAAIC,YAAY,GAAGF,IAAI,CAACG,OAAxB;AACA,cAAIA,OAAO,GAAGD,YAAY,KAAKjD,SAAjB,GAA6B,CAA7B,GAAiCiD,YAA/C;;AAEA,cAAIJ,IAAI,IAAI,IAAZ,EAAkB;AACjB;AACAA,YAAAA,IAAI,GAAG,IAAP;AACA,WAHD,MAGO,IAAIM,iBAAiB,CAACN,IAAD,CAArB,EAA6B;AACnC;AACAA,YAAAA,IAAI,GAAGvD,MAAM,CAACG,IAAP,CAAYoD,IAAI,CAACvC,QAAL,EAAZ,CAAP;AACA,WAHM,MAGA,IAAI8C,MAAM,CAACP,IAAD,CAAV,EAAkB,CAAlB,KAAyB,IAAIvD,MAAM,CAAC+D,QAAP,CAAgBR,IAAhB,CAAJ,EAA2B,CAA3B,KAAkC,IAAInF,MAAM,CAAC+D,SAAP,CAAiBnB,QAAjB,CAA0B4B,IAA1B,CAA+BW,IAA/B,MAAyC,sBAA7C,EAAqE;AACtI;AACAA,YAAAA,IAAI,GAAGvD,MAAM,CAACG,IAAP,CAAYoD,IAAZ,CAAP;AACA,WAHiE,MAG3D,IAAItD,WAAW,CAACC,MAAZ,CAAmBqD,IAAnB,CAAJ,EAA8B;AACpC;AACAA,YAAAA,IAAI,GAAGvD,MAAM,CAACG,IAAP,CAAYoD,IAAI,CAACxD,MAAjB,EAAyBwD,IAAI,CAACnD,UAA9B,EAA0CmD,IAAI,CAAClD,UAA/C,CAAP;AACA,WAHM,MAGA,IAAIkD,IAAI,YAAY9E,MAApB,EAA4B,CAA5B,KAAmC;AACzC;AACA;AACA8E,YAAAA,IAAI,GAAGvD,MAAM,CAACG,IAAP,CAAYG,MAAM,CAACiD,IAAD,CAAlB,CAAP;AACA;;AACD,eAAKH,SAAL,IAAkB;AACjBG,YAAAA,IADiB;AAEjBS,YAAAA,SAAS,EAAE,KAFM;AAGjBC,YAAAA,KAAK,EAAE;AAHU,WAAlB;AAKA,eAAKxE,IAAL,GAAYA,IAAZ;AACA,eAAKmE,OAAL,GAAeA,OAAf;;AAEA,cAAIL,IAAI,YAAY9E,MAApB,EAA4B;AAC3B8E,YAAAA,IAAI,CAACW,EAAL,CAAQ,OAAR,EAAiB,UAAUC,GAAV,EAAe;AAC/B,kBAAMF,KAAK,GAAGE,GAAG,CAAClB,IAAJ,KAAa,YAAb,GAA4BkB,GAA5B,GAAkC,IAAI3B,UAAJ,kDAA8DgB,KAAK,CAAC3F,GAApE,UAA4EsG,GAAG,CAAC1B,OAAhF,EAA2F,QAA3F,EAAqG0B,GAArG,CAAhD;AACAX,cAAAA,KAAK,CAACJ,SAAD,CAAL,CAAiBa,KAAjB,GAAyBA,KAAzB;AACA,aAHD;AAIA;AACD;;AAEDX,QAAAA,IAAI,CAACnB,SAAL,GAAiB;AAChB,cAAIoB,IAAJ,GAAW;AACV,mBAAO,KAAKH,SAAL,EAAgBG,IAAvB;AACA,WAHe;;AAKhB,cAAIa,QAAJ,GAAe;AACd,mBAAO,KAAKhB,SAAL,EAAgBY,SAAvB;AACA,WAPe;;AAShB;AACF;AACA;AACA;AACA;AACE/C,UAAAA,WAAW,GAAG;AACb,mBAAOoD,WAAW,CAACzB,IAAZ,CAAiB,IAAjB,EAAuB0B,IAAvB,CAA4B,UAAUpD,GAAV,EAAe;AACjD,qBAAOA,GAAG,CAACnB,MAAJ,CAAWqB,KAAX,CAAiBF,GAAG,CAACd,UAArB,EAAiCc,GAAG,CAACd,UAAJ,GAAiBc,GAAG,CAACb,UAAtD,CAAP;AACA,aAFM,CAAP;AAGA,WAlBe;;AAoBhB;AACF;AACA;AACA;AACA;AACE4B,UAAAA,IAAI,GAAG;AACN,gBAAIsC,EAAE,GAAG,KAAKC,OAAL,IAAgB,KAAKA,OAAL,CAAaC,GAAb,CAAiB,cAAjB,CAAhB,IAAoD,EAA7D;AACA,mBAAOJ,WAAW,CAACzB,IAAZ,CAAiB,IAAjB,EAAuB0B,IAAvB,CAA4B,UAAUpD,GAAV,EAAe;AACjD,qBAAO9C,MAAM,CAACsG,MAAP,EACP;AACA,kBAAIvF,IAAJ,CAAS,EAAT,EAAa;AACZsB,gBAAAA,IAAI,EAAE8D,EAAE,CAAC5D,WAAH;AADM,eAAb,CAFO,EAIH;AACH,iBAAC3B,MAAD,GAAUkC;AADP,eAJG,CAAP;AAOA,aARM,CAAP;AASA,WApCe;;AAsChB;AACF;AACA;AACA;AACA;AACEyD,UAAAA,IAAI,GAAG;AACN,gBAAIC,MAAM,GAAG,IAAb;;AAEA,mBAAOP,WAAW,CAACzB,IAAZ,CAAiB,IAAjB,EAAuB0B,IAAvB,CAA4B,UAAUvE,MAAV,EAAkB;AACpD,kBAAI;AACH,uBAAO8E,IAAI,CAACC,KAAL,CAAW/E,MAAM,CAACiB,QAAP,EAAX,CAAP;AACA,eAFD,CAEE,OAAOmD,GAAP,EAAY;AACb,uBAAOb,IAAI,CAACxC,OAAL,CAAaiE,MAAb,CAAoB,IAAIvC,UAAJ,oCAAgDoC,MAAM,CAAC/G,GAAvD,iBAAsEsG,GAAG,CAAC1B,OAA1E,EAAqF,cAArF,CAApB,CAAP;AACA;AACD,aANM,CAAP;AAOA,WArDe;;AAuDhB;AACF;AACA;AACA;AACA;AACE5B,UAAAA,IAAI,GAAG;AACN,mBAAOwD,WAAW,CAACzB,IAAZ,CAAiB,IAAjB,EAAuB0B,IAAvB,CAA4B,UAAUvE,MAAV,EAAkB;AACpD,qBAAOA,MAAM,CAACiB,QAAP,EAAP;AACA,aAFM,CAAP;AAGA,WAhEe;;AAkEhB;AACF;AACA;AACA;AACA;AACEjB,UAAAA,MAAM,GAAG;AACR,mBAAOsE,WAAW,CAACzB,IAAZ,CAAiB,IAAjB,CAAP;AACA,WAzEe;;AA2EhB;AACF;AACA;AACA;AACA;AACA;AACEoC,UAAAA,aAAa,GAAG;AACf,gBAAIC,MAAM,GAAG,IAAb;;AAEA,mBAAOZ,WAAW,CAACzB,IAAZ,CAAiB,IAAjB,EAAuB0B,IAAvB,CAA4B,UAAUvE,MAAV,EAAkB;AACpD,qBAAOmF,WAAW,CAACnF,MAAD,EAASkF,MAAM,CAACT,OAAhB,CAAlB;AACA,aAFM,CAAP;AAGA;;AAvFe,SAAjB,CAlO0F,CA4T1F;;AACApG,QAAAA,MAAM,CAAC8D,gBAAP,CAAwBoB,IAAI,CAACnB,SAA7B,EAAwC;AACvCoB,UAAAA,IAAI,EAAE;AAAEnB,YAAAA,UAAU,EAAE;AAAd,WADiC;AAEvCgC,UAAAA,QAAQ,EAAE;AAAEhC,YAAAA,UAAU,EAAE;AAAd,WAF6B;AAGvCnB,UAAAA,WAAW,EAAE;AAAEmB,YAAAA,UAAU,EAAE;AAAd,WAH0B;AAIvCH,UAAAA,IAAI,EAAE;AAAEG,YAAAA,UAAU,EAAE;AAAd,WAJiC;AAKvCuC,UAAAA,IAAI,EAAE;AAAEvC,YAAAA,UAAU,EAAE;AAAd,WALiC;AAMvCvB,UAAAA,IAAI,EAAE;AAAEuB,YAAAA,UAAU,EAAE;AAAd;AANiC,SAAxC;;AASAkB,QAAAA,IAAI,CAAC6B,KAAL,GAAa,UAAUC,KAAV,EAAiB;AAC7B,eAAK,IAAMnC,IAAX,IAAmB7E,MAAM,CAACiH,mBAAP,CAA2B/B,IAAI,CAACnB,SAAhC,CAAnB,EAA+D;AAC9D;AACA,gBAAI,EAAEc,IAAI,IAAImC,KAAV,CAAJ,EAAsB;AACrB,kBAAME,IAAI,GAAGlH,MAAM,CAACmH,wBAAP,CAAgCjC,IAAI,CAACnB,SAArC,EAAgDc,IAAhD,CAAb;AACA7E,cAAAA,MAAM,CAACC,cAAP,CAAsB+G,KAAtB,EAA6BnC,IAA7B,EAAmCqC,IAAnC;AACA;AACD;AACD,SARD;AAUA;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,iBAASjB,WAAT,GAAuB;AACtB,cAAImB,MAAM,GAAG,IAAb;;AAEA,cAAI,KAAKpC,SAAL,EAAgBY,SAApB,EAA+B;AAC9B,mBAAOV,IAAI,CAACxC,OAAL,CAAaiE,MAAb,CAAoB,IAAIU,SAAJ,6BAAwC,KAAK5H,GAA7C,CAApB,CAAP;AACA;;AAED,eAAKuF,SAAL,EAAgBY,SAAhB,GAA4B,IAA5B;;AAEA,cAAI,KAAKZ,SAAL,EAAgBa,KAApB,EAA2B;AAC1B,mBAAOX,IAAI,CAACxC,OAAL,CAAaiE,MAAb,CAAoB,KAAK3B,SAAL,EAAgBa,KAApC,CAAP;AACA;;AAED,cAAIV,IAAI,GAAG,KAAKA,IAAhB,CAbsB,CAetB;;AACA,cAAIA,IAAI,KAAK,IAAb,EAAmB;AAClB,mBAAOD,IAAI,CAACxC,OAAL,CAAaC,OAAb,CAAqBf,MAAM,CAAC0F,KAAP,CAAa,CAAb,CAArB,CAAP;AACA,WAlBqB,CAoBtB;;;AACA,cAAI5B,MAAM,CAACP,IAAD,CAAV,EAAkB;AACjBA,YAAAA,IAAI,GAAGA,IAAI,CAAClC,MAAL,EAAP;AACA,WAvBqB,CAyBtB;;;AACA,cAAIrB,MAAM,CAAC+D,QAAP,CAAgBR,IAAhB,CAAJ,EAA2B;AAC1B,mBAAOD,IAAI,CAACxC,OAAL,CAAaC,OAAb,CAAqBwC,IAArB,CAAP;AACA,WA5BqB,CA8BtB;;;AACA,cAAI,EAAEA,IAAI,YAAY9E,MAAlB,CAAJ,EAA+B;AAC9B,mBAAO6E,IAAI,CAACxC,OAAL,CAAaC,OAAb,CAAqBf,MAAM,CAAC0F,KAAP,CAAa,CAAb,CAArB,CAAP;AACA,WAjCqB,CAmCtB;AACA;;;AACA,cAAIC,KAAK,GAAG,EAAZ;AACA,cAAIC,UAAU,GAAG,CAAjB;AACA,cAAIC,KAAK,GAAG,KAAZ;AAEA,iBAAO,IAAIvC,IAAI,CAACxC,OAAT,CAAiB,UAAUC,OAAV,EAAmBgE,MAAnB,EAA2B;AAClD,gBAAIe,UAAJ,CADkD,CAGlD;;AACA,gBAAIN,MAAM,CAAC5B,OAAX,EAAoB;AACnBkC,cAAAA,UAAU,GAAGC,UAAU,CAAC,YAAY;AACnCF,gBAAAA,KAAK,GAAG,IAAR;AACAd,gBAAAA,MAAM,CAAC,IAAIvC,UAAJ,6CAAyDgD,MAAM,CAAC3H,GAAhE,eAA6E2H,MAAM,CAAC5B,OAApF,UAAkG,cAAlG,CAAD,CAAN;AACA,eAHsB,EAGpB4B,MAAM,CAAC5B,OAHa,CAAvB;AAIA,aATiD,CAWlD;;;AACAL,YAAAA,IAAI,CAACW,EAAL,CAAQ,OAAR,EAAiB,UAAUC,GAAV,EAAe;AAC/B,kBAAIA,GAAG,CAAClB,IAAJ,KAAa,YAAjB,EAA+B;AAC9B;AACA4C,gBAAAA,KAAK,GAAG,IAAR;AACAd,gBAAAA,MAAM,CAACZ,GAAD,CAAN;AACA,eAJD,MAIO;AACN;AACAY,gBAAAA,MAAM,CAAC,IAAIvC,UAAJ,kDAA8DgD,MAAM,CAAC3H,GAArE,UAA6EsG,GAAG,CAAC1B,OAAjF,EAA4F,QAA5F,EAAsG0B,GAAtG,CAAD,CAAN;AACA;AACD,aATD;AAWAZ,YAAAA,IAAI,CAACW,EAAL,CAAQ,MAAR,EAAgB,UAAU8B,KAAV,EAAiB;AAChC,kBAAIH,KAAK,IAAIG,KAAK,KAAK,IAAvB,EAA6B;AAC5B;AACA;;AAED,kBAAIR,MAAM,CAAC/F,IAAP,IAAemG,UAAU,GAAGI,KAAK,CAACrG,MAAnB,GAA4B6F,MAAM,CAAC/F,IAAtD,EAA4D;AAC3DoG,gBAAAA,KAAK,GAAG,IAAR;AACAd,gBAAAA,MAAM,CAAC,IAAIvC,UAAJ,sBAAkCgD,MAAM,CAAC3H,GAAzC,qBAA4D2H,MAAM,CAAC/F,IAAnE,EAA2E,UAA3E,CAAD,CAAN;AACA;AACA;;AAEDmG,cAAAA,UAAU,IAAII,KAAK,CAACrG,MAApB;AACAgG,cAAAA,KAAK,CAACpF,IAAN,CAAWyF,KAAX;AACA,aAbD;AAeAzC,YAAAA,IAAI,CAACW,EAAL,CAAQ,KAAR,EAAe,YAAY;AAC1B,kBAAI2B,KAAJ,EAAW;AACV;AACA;;AAEDI,cAAAA,YAAY,CAACH,UAAD,CAAZ;;AAEA,kBAAI;AACH/E,gBAAAA,OAAO,CAACf,MAAM,CAACQ,MAAP,CAAcmF,KAAd,EAAqBC,UAArB,CAAD,CAAP;AACA,eAFD,CAEE,OAAOzB,GAAP,EAAY;AACb;AACAY,gBAAAA,MAAM,CAAC,IAAIvC,UAAJ,qDAAiEgD,MAAM,CAAC3H,GAAxE,UAAgFsG,GAAG,CAAC1B,OAApF,EAA+F,QAA/F,EAAyG0B,GAAzG,CAAD,CAAN;AACA;AACD,aAbD;AAcA,WApDM,CAAP;AAqDA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AACC,iBAASe,WAAT,CAAqBnF,MAArB,EAA6ByE,OAA7B,EAAsC;AACrC,cAAI,OAAOtB,OAAP,KAAmB,UAAvB,EAAmC;AAClC,kBAAM,IAAIP,KAAJ,CAAU,8EAAV,CAAN;AACA;;AAED,cAAM4B,EAAE,GAAGC,OAAO,CAACC,GAAR,CAAY,cAAZ,CAAX;AACA,cAAIyB,OAAO,GAAG,OAAd;AACA,cAAIC,GAAJ,EAASC,GAAT,CAPqC,CASrC;;AACA,cAAI7B,EAAJ,EAAQ;AACP4B,YAAAA,GAAG,GAAG,mBAAmBE,IAAnB,CAAwB9B,EAAxB,CAAN;AACA,WAZoC,CAcrC;;;AACA6B,UAAAA,GAAG,GAAGrG,MAAM,CAACqB,KAAP,CAAa,CAAb,EAAgB,IAAhB,EAAsBJ,QAAtB,EAAN,CAfqC,CAiBrC;;AACA,cAAI,CAACmF,GAAD,IAAQC,GAAZ,EAAiB;AAChBD,YAAAA,GAAG,GAAG,iCAAiCE,IAAjC,CAAsCD,GAAtC,CAAN;AACA,WApBoC,CAsBrC;;;AACA,cAAI,CAACD,GAAD,IAAQC,GAAZ,EAAiB;AAChBD,YAAAA,GAAG,GAAG,yEAAyEE,IAAzE,CAA8ED,GAA9E,CAAN;;AACA,gBAAI,CAACD,GAAL,EAAU;AACTA,cAAAA,GAAG,GAAG,yEAAyEE,IAAzE,CAA8ED,GAA9E,CAAN;;AACA,kBAAID,GAAJ,EAAS;AACRA,gBAAAA,GAAG,CAACG,GAAJ,GADQ,CACG;AACX;AACD;;AAED,gBAAIH,GAAJ,EAAS;AACRA,cAAAA,GAAG,GAAG,gBAAgBE,IAAhB,CAAqBF,GAAG,CAACG,GAAJ,EAArB,CAAN;AACA;AACD,WAnCoC,CAqCrC;;;AACA,cAAI,CAACH,GAAD,IAAQC,GAAZ,EAAiB;AAChBD,YAAAA,GAAG,GAAG,mCAAmCE,IAAnC,CAAwCD,GAAxC,CAAN;AACA,WAxCoC,CA0CrC;;;AACA,cAAID,GAAJ,EAAS;AACRD,YAAAA,OAAO,GAAGC,GAAG,CAACG,GAAJ,EAAV,CADQ,CAGR;AACA;;AACA,gBAAIJ,OAAO,KAAK,QAAZ,IAAwBA,OAAO,KAAK,KAAxC,EAA+C;AAC9CA,cAAAA,OAAO,GAAG,SAAV;AACA;AACD,WAnDoC,CAqDrC;;;AACA,iBAAOhD,OAAO,CAACnD,MAAD,EAAS,OAAT,EAAkBmG,OAAlB,CAAP,CAAkClF,QAAlC,EAAP;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,iBAAS6C,iBAAT,CAA2B0C,GAA3B,EAAgC;AAC/B;AACA,cAAI,OAAOA,GAAP,KAAe,QAAf,IAA2B,OAAOA,GAAG,CAACC,MAAX,KAAsB,UAAjD,IAA+D,OAAOD,GAAG,CAACE,MAAX,KAAsB,UAArF,IAAmG,OAAOF,GAAG,CAAC9B,GAAX,KAAmB,UAAtH,IAAoI,OAAO8B,GAAG,CAACG,MAAX,KAAsB,UAA1J,IAAwK,OAAOH,GAAG,CAACI,GAAX,KAAmB,UAA3L,IAAyM,OAAOJ,GAAG,CAACK,GAAX,KAAmB,UAAhO,EAA4O;AAC3O,mBAAO,KAAP;AACA,WAJ8B,CAM/B;;;AACA,iBAAOL,GAAG,CAACnH,WAAJ,CAAgB6D,IAAhB,KAAyB,iBAAzB,IAA8C7E,MAAM,CAAC+D,SAAP,CAAiBnB,QAAjB,CAA0B4B,IAA1B,CAA+B2D,GAA/B,MAAwC,0BAAtF,IAAoH,OAAOA,GAAG,CAACM,IAAX,KAAoB,UAA/I;AACA;AAED;AACD;AACA;AACA;AACA;;;AACC,iBAAS/C,MAAT,CAAgByC,GAAhB,EAAqB;AACpB,iBAAO,OAAOA,GAAP,KAAe,QAAf,IAA2B,OAAOA,GAAG,CAACtF,WAAX,KAA2B,UAAtD,IAAoE,OAAOsF,GAAG,CAAC9F,IAAX,KAAoB,QAAxF,IAAoG,OAAO8F,GAAG,CAAClF,MAAX,KAAsB,UAA1H,IAAwI,OAAOkF,GAAG,CAACnH,WAAX,KAA2B,UAAnK,IAAiL,OAAOmH,GAAG,CAACnH,WAAJ,CAAgB6D,IAAvB,KAAgC,QAAjN,IAA6N,gBAAgBrC,IAAhB,CAAqB2F,GAAG,CAACnH,WAAJ,CAAgB6D,IAArC,CAA7N,IAA2Q,gBAAgBrC,IAAhB,CAAqB2F,GAAG,CAACtH,MAAM,CAACoD,WAAR,CAAxB,CAAlR;AACA;AAED;AACD;AACA;AACA;AACA;AACA;;;AACC,iBAASyE,KAAT,CAAeC,QAAf,EAAyB;AACxB,cAAIC,EAAJ,EAAQC,EAAR;AACA,cAAI1D,IAAI,GAAGwD,QAAQ,CAACxD,IAApB,CAFwB,CAIxB;;AACA,cAAIwD,QAAQ,CAAC3C,QAAb,EAAuB;AACtB,kBAAM,IAAIzB,KAAJ,CAAU,oCAAV,CAAN;AACA,WAPuB,CASxB;AACA;;;AACA,cAAIY,IAAI,YAAY9E,MAAhB,IAA0B,OAAO8E,IAAI,CAAC2D,WAAZ,KAA4B,UAA1D,EAAsE;AACrE;AACAF,YAAAA,EAAE,GAAG,IAAI3D,WAAJ,EAAL;AACA4D,YAAAA,EAAE,GAAG,IAAI5D,WAAJ,EAAL;AACAE,YAAAA,IAAI,CAAC4D,IAAL,CAAUH,EAAV;AACAzD,YAAAA,IAAI,CAAC4D,IAAL,CAAUF,EAAV,EALqE,CAMrE;;AACAF,YAAAA,QAAQ,CAAC3D,SAAD,CAAR,CAAoBG,IAApB,GAA2ByD,EAA3B;AACAzD,YAAAA,IAAI,GAAG0D,EAAP;AACA;;AAED,iBAAO1D,IAAP;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACC,iBAAS6D,kBAAT,CAA4B7D,IAA5B,EAAkC;AACjC,cAAIA,IAAI,KAAK,IAAb,EAAmB;AAClB;AACA,mBAAO,IAAP;AACA,WAHD,MAGO,IAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AACpC;AACA,mBAAO,0BAAP;AACA,WAHM,MAGA,IAAIM,iBAAiB,CAACN,IAAD,CAArB,EAA6B;AACnC;AACA,mBAAO,iDAAP;AACA,WAHM,MAGA,IAAIO,MAAM,CAACP,IAAD,CAAV,EAAkB;AACxB;AACA,mBAAOA,IAAI,CAAC9C,IAAL,IAAa,IAApB;AACA,WAHM,MAGA,IAAIT,MAAM,CAAC+D,QAAP,CAAgBR,IAAhB,CAAJ,EAA2B;AACjC;AACA,mBAAO,IAAP;AACA,WAHM,MAGA,IAAInF,MAAM,CAAC+D,SAAP,CAAiBnB,QAAjB,CAA0B4B,IAA1B,CAA+BW,IAA/B,MAAyC,sBAA7C,EAAqE;AAC3E;AACA,mBAAO,IAAP;AACA,WAHM,MAGA,IAAItD,WAAW,CAACC,MAAZ,CAAmBqD,IAAnB,CAAJ,EAA8B;AACpC;AACA,mBAAO,IAAP;AACA,WAHM,MAGA,IAAI,OAAOA,IAAI,CAAC2D,WAAZ,KAA4B,UAAhC,EAA4C;AAClD;AACA,qDAAuC3D,IAAI,CAAC2D,WAAL,EAAvC;AACA,WAHM,MAGA,IAAI3D,IAAI,YAAY9E,MAApB,EAA4B;AAClC;AACA;AACA,mBAAO,IAAP;AACA,WAJM,MAIA;AACN;AACA,mBAAO,0BAAP;AACA;AACD;AAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACC,iBAAS4I,aAAT,CAAuBN,QAAvB,EAAiC;AAChC,cAAMxD,IAAI,GAAGwD,QAAQ,CAACxD,IAAtB;;AAGA,cAAIA,IAAI,KAAK,IAAb,EAAmB;AAClB;AACA,mBAAO,CAAP;AACA,WAHD,MAGO,IAAIO,MAAM,CAACP,IAAD,CAAV,EAAkB;AACxB,mBAAOA,IAAI,CAAC9D,IAAZ;AACA,WAFM,MAEA,IAAIO,MAAM,CAAC+D,QAAP,CAAgBR,IAAhB,CAAJ,EAA2B;AACjC;AACA,mBAAOA,IAAI,CAAC5D,MAAZ;AACA,WAHM,MAGA,IAAI4D,IAAI,IAAI,OAAOA,IAAI,CAAC+D,aAAZ,KAA8B,UAA1C,EAAsD;AAC5D;AACA,gBAAI/D,IAAI,CAACgE,iBAAL,IAA0BhE,IAAI,CAACgE,iBAAL,CAAuB5H,MAAvB,IAAiC,CAA3D,IAAgE;AACpE4D,YAAAA,IAAI,CAACiE,cAAL,IAAuBjE,IAAI,CAACiE,cAAL,EADvB,EAC8C;AAC7C;AACA,qBAAOjE,IAAI,CAAC+D,aAAL,EAAP;AACA;;AACD,mBAAO,IAAP;AACA,WARM,MAQA;AACN;AACA,mBAAO,IAAP;AACA;AACD;AAED;AACD;AACA;AACA;AACA;AACA;;;AACC,iBAASG,aAAT,CAAuBC,IAAvB,EAA6BX,QAA7B,EAAuC;AACtC,cAAMxD,IAAI,GAAGwD,QAAQ,CAACxD,IAAtB;;AAGA,cAAIA,IAAI,KAAK,IAAb,EAAmB;AAClB;AACAmE,YAAAA,IAAI,CAACjG,GAAL;AACA,WAHD,MAGO,IAAIqC,MAAM,CAACP,IAAD,CAAV,EAAkB;AACxBA,YAAAA,IAAI,CAAClC,MAAL,GAAc8F,IAAd,CAAmBO,IAAnB;AACA,WAFM,MAEA,IAAI1H,MAAM,CAAC+D,QAAP,CAAgBR,IAAhB,CAAJ,EAA2B;AACjC;AACAmE,YAAAA,IAAI,CAACC,KAAL,CAAWpE,IAAX;AACAmE,YAAAA,IAAI,CAACjG,GAAL;AACA,WAJM,MAIA;AACN;AACA8B,YAAAA,IAAI,CAAC4D,IAAL,CAAUO,IAAV;AACA;AACD,SAvpByF,CAypB1F;;;AACApE,QAAAA,IAAI,CAACxC,OAAL,GAAe8G,MAAM,CAAC9G,OAAtB;AAEA;AACD;AACA;AACA;AACA;;AAEC,YAAM+G,iBAAiB,GAAG,+BAA1B;AACA,YAAMC,sBAAsB,GAAG,yBAA/B;;AAEA,iBAASC,YAAT,CAAsB9E,IAAtB,EAA4B;AAC3BA,UAAAA,IAAI,QAAMA,IAAV;;AACA,cAAI4E,iBAAiB,CAACjH,IAAlB,CAAuBqC,IAAvB,KAAgCA,IAAI,KAAK,EAA7C,EAAiD;AAChD,kBAAM,IAAIwC,SAAJ,CAAiBxC,IAAjB,sCAAN;AACA;AACD;;AAED,iBAAS+E,aAAT,CAAuB1J,KAAvB,EAA8B;AAC7BA,UAAAA,KAAK,QAAMA,KAAX;;AACA,cAAIwJ,sBAAsB,CAAClH,IAAvB,CAA4BtC,KAA5B,CAAJ,EAAwC;AACvC,kBAAM,IAAImH,SAAJ,CAAiBnH,KAAjB,uCAAN;AACA;AACD;AAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AACC,iBAAS2J,IAAT,CAAcC,GAAd,EAAmBjF,IAAnB,EAAyB;AACxBA,UAAAA,IAAI,GAAGA,IAAI,CAACtC,WAAL,EAAP;;AACA,eAAK,IAAMwH,GAAX,IAAkBD,GAAlB,EAAuB;AACtB,gBAAIC,GAAG,CAACxH,WAAJ,OAAsBsC,IAA1B,EAAgC;AAC/B,qBAAOkF,GAAP;AACA;AACD;;AACD,iBAAOzH,SAAP;AACA;;AAED,YAAM0H,GAAG,GAAGnJ,MAAM,CAAC,KAAD,CAAlB;;AACA,cAAMoJ,OAAN,CAAc;AACb;AACF;AACA;AACA;AACA;AACA;AACEjJ,UAAAA,WAAW,GAAG;AACb,gBAAIkJ,IAAI,GAAGhJ,SAAS,CAACK,MAAV,GAAmB,CAAnB,IAAwBL,SAAS,CAAC,CAAD,CAAT,KAAiBoB,SAAzC,GAAqDpB,SAAS,CAAC,CAAD,CAA9D,GAAoEoB,SAA/E;AAEA,iBAAK0H,GAAL,IAAYhK,MAAM,CAAC4E,MAAP,CAAc,IAAd,CAAZ;;AAEA,gBAAIsF,IAAI,YAAYD,OAApB,EAA6B;AAC5B,kBAAME,UAAU,GAAGD,IAAI,CAACE,GAAL,EAAnB;AACA,kBAAMC,WAAW,GAAGrK,MAAM,CAACsK,IAAP,CAAYH,UAAZ,CAApB;;AAEA,mBAAK,IAAMI,UAAX,IAAyBF,WAAzB,EAAsC;AACrC,qBAAK,IAAMnK,KAAX,IAAoBiK,UAAU,CAACI,UAAD,CAA9B,EAA4C;AAC3C,uBAAKnC,MAAL,CAAYmC,UAAZ,EAAwBrK,KAAxB;AACA;AACD;;AAED;AACA,aAhBY,CAkBb;AACA;;;AACA,gBAAIgK,IAAI,IAAI,IAAZ,EAAkB,CAAlB,KAAyB,IAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AACtD,kBAAMM,MAAM,GAAGN,IAAI,CAACrJ,MAAM,CAAC4J,QAAR,CAAnB;;AACA,kBAAID,MAAM,IAAI,IAAd,EAAoB;AACnB,oBAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkC;AACjC,wBAAM,IAAInD,SAAJ,CAAc,+BAAd,CAAN;AACA,iBAHkB,CAKnB;AACA;;;AACA,oBAAMqD,KAAK,GAAG,EAAd;;AACA,qBAAK,IAAMC,IAAX,IAAmBT,IAAnB,EAAyB;AACxB,sBAAI,OAAOS,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAI,CAAC9J,MAAM,CAAC4J,QAAR,CAAX,KAAiC,UAAjE,EAA6E;AAC5E,0BAAM,IAAIpD,SAAJ,CAAc,mCAAd,CAAN;AACA;;AACDqD,kBAAAA,KAAK,CAACvI,IAAN,CAAWyI,KAAK,CAAC7I,IAAN,CAAW4I,IAAX,CAAX;AACA;;AAED,qBAAK,IAAMA,KAAX,IAAmBD,KAAnB,EAA0B;AACzB,sBAAIC,KAAI,CAACpJ,MAAL,KAAgB,CAApB,EAAuB;AACtB,0BAAM,IAAI8F,SAAJ,CAAc,6CAAd,CAAN;AACA;;AACD,uBAAKe,MAAL,CAAYuC,KAAI,CAAC,CAAD,CAAhB,EAAqBA,KAAI,CAAC,CAAD,CAAzB;AACA;AACD,eArBD,MAqBO;AACN;AACA,qBAAK,IAAMZ,GAAX,IAAkB/J,MAAM,CAACsK,IAAP,CAAYJ,IAAZ,CAAlB,EAAqC;AACpC,sBAAMhK,MAAK,GAAGgK,IAAI,CAACH,GAAD,CAAlB;AACA,uBAAK3B,MAAL,CAAY2B,GAAZ,EAAiB7J,MAAjB;AACA;AACD;AACD,aA9BwB,MA8BlB;AACN,oBAAM,IAAImH,SAAJ,CAAc,wCAAd,CAAN;AACA;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;AACEhB,UAAAA,GAAG,CAACxB,IAAD,EAAO;AACTA,YAAAA,IAAI,QAAMA,IAAV;AACA8E,YAAAA,YAAY,CAAC9E,IAAD,CAAZ;AACA,gBAAMkF,GAAG,GAAGF,IAAI,CAAC,KAAKG,GAAL,CAAD,EAAYnF,IAAZ,CAAhB;;AACA,gBAAIkF,GAAG,KAAKzH,SAAZ,EAAuB;AACtB,qBAAO,IAAP;AACA;;AAED,mBAAO,KAAK0H,GAAL,EAAUD,GAAV,EAAec,IAAf,CAAoB,IAApB,CAAP;AACA;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;AACEC,UAAAA,OAAO,CAACC,QAAD,EAAW;AACjB,gBAAIC,OAAO,GAAG9J,SAAS,CAACK,MAAV,GAAmB,CAAnB,IAAwBL,SAAS,CAAC,CAAD,CAAT,KAAiBoB,SAAzC,GAAqDpB,SAAS,CAAC,CAAD,CAA9D,GAAoEoB,SAAlF;AAEA,gBAAIoI,KAAK,GAAGO,UAAU,CAAC,IAAD,CAAtB;AACA,gBAAIxJ,CAAC,GAAG,CAAR;;AACA,mBAAOA,CAAC,GAAGiJ,KAAK,CAACnJ,MAAjB,EAAyB;AACxB,kBAAI2J,QAAQ,GAAGR,KAAK,CAACjJ,CAAD,CAApB;AACA,kBAAMoD,IAAI,GAAGqG,QAAQ,CAAC,CAAD,CAArB;AAAA,kBACMhL,KAAK,GAAGgL,QAAQ,CAAC,CAAD,CADtB;AAGAH,cAAAA,QAAQ,CAACvG,IAAT,CAAcwG,OAAd,EAAuB9K,KAAvB,EAA8B2E,IAA9B,EAAoC,IAApC;AACA6F,cAAAA,KAAK,GAAGO,UAAU,CAAC,IAAD,CAAlB;AACAxJ,cAAAA,CAAC;AACD;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;AACE+G,UAAAA,GAAG,CAAC3D,IAAD,EAAO3E,KAAP,EAAc;AAChB2E,YAAAA,IAAI,QAAMA,IAAV;AACA3E,YAAAA,KAAK,QAAMA,KAAX;AACAyJ,YAAAA,YAAY,CAAC9E,IAAD,CAAZ;AACA+E,YAAAA,aAAa,CAAC1J,KAAD,CAAb;AACA,gBAAM6J,GAAG,GAAGF,IAAI,CAAC,KAAKG,GAAL,CAAD,EAAYnF,IAAZ,CAAhB;AACA,iBAAKmF,GAAL,EAAUD,GAAG,KAAKzH,SAAR,GAAoByH,GAApB,GAA0BlF,IAApC,IAA4C,CAAC3E,KAAD,CAA5C;AACA;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;AACEkI,UAAAA,MAAM,CAACvD,IAAD,EAAO3E,KAAP,EAAc;AACnB2E,YAAAA,IAAI,QAAMA,IAAV;AACA3E,YAAAA,KAAK,QAAMA,KAAX;AACAyJ,YAAAA,YAAY,CAAC9E,IAAD,CAAZ;AACA+E,YAAAA,aAAa,CAAC1J,KAAD,CAAb;AACA,gBAAM6J,GAAG,GAAGF,IAAI,CAAC,KAAKG,GAAL,CAAD,EAAYnF,IAAZ,CAAhB;;AACA,gBAAIkF,GAAG,KAAKzH,SAAZ,EAAuB;AACtB,mBAAK0H,GAAL,EAAUD,GAAV,EAAe5H,IAAf,CAAoBjC,KAApB;AACA,aAFD,MAEO;AACN,mBAAK8J,GAAL,EAAUnF,IAAV,IAAkB,CAAC3E,KAAD,CAAlB;AACA;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;AACEqI,UAAAA,GAAG,CAAC1D,IAAD,EAAO;AACTA,YAAAA,IAAI,QAAMA,IAAV;AACA8E,YAAAA,YAAY,CAAC9E,IAAD,CAAZ;AACA,mBAAOgF,IAAI,CAAC,KAAKG,GAAL,CAAD,EAAYnF,IAAZ,CAAJ,KAA0BvC,SAAjC;AACA;AAED;AACF;AACA;AACA;AACA;AACA;;;AACE+F,UAAAA,MAAM,CAACxD,IAAD,EAAO;AACZA,YAAAA,IAAI,QAAMA,IAAV;AACA8E,YAAAA,YAAY,CAAC9E,IAAD,CAAZ;AACA,gBAAMkF,GAAG,GAAGF,IAAI,CAAC,KAAKG,GAAL,CAAD,EAAYnF,IAAZ,CAAhB;;AACA,gBAAIkF,GAAG,KAAKzH,SAAZ,EAAuB;AACtB,qBAAO,KAAK0H,GAAL,EAAUD,GAAV,CAAP;AACA;AACD;AAED;AACF;AACA;AACA;AACA;;;AACEK,UAAAA,GAAG,GAAG;AACL,mBAAO,KAAKJ,GAAL,CAAP;AACA;AAED;AACF;AACA;AACA;AACA;;;AACEM,UAAAA,IAAI,GAAG;AACN,mBAAOa,qBAAqB,CAAC,IAAD,EAAO,KAAP,CAA5B;AACA;AAED;AACF;AACA;AACA;AACA;;;AACEC,UAAAA,MAAM,GAAG;AACR,mBAAOD,qBAAqB,CAAC,IAAD,EAAO,OAAP,CAA5B;AACA;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;AACkB,WAAftK,MAAM,CAAC4J,QAAQ,IAAI;AACnB,mBAAOU,qBAAqB,CAAC,IAAD,EAAO,WAAP,CAA5B;AACA;;AAzMY;;AA2MdlB,QAAAA,OAAO,CAAClG,SAAR,CAAkBsH,OAAlB,GAA4BpB,OAAO,CAAClG,SAAR,CAAkBlD,MAAM,CAAC4J,QAAzB,CAA5B;AAEAzK,QAAAA,MAAM,CAACC,cAAP,CAAsBgK,OAAO,CAAClG,SAA9B,EAAyClD,MAAM,CAACoD,WAAhD,EAA6D;AAC5D/D,UAAAA,KAAK,EAAE,SADqD;AAE5DgE,UAAAA,QAAQ,EAAE,KAFkD;AAG5DF,UAAAA,UAAU,EAAE,KAHgD;AAI5DG,UAAAA,YAAY,EAAE;AAJ8C,SAA7D;AAOAnE,QAAAA,MAAM,CAAC8D,gBAAP,CAAwBmG,OAAO,CAAClG,SAAhC,EAA2C;AAC1CsC,UAAAA,GAAG,EAAE;AAAErC,YAAAA,UAAU,EAAE;AAAd,WADqC;AAE1C8G,UAAAA,OAAO,EAAE;AAAE9G,YAAAA,UAAU,EAAE;AAAd,WAFiC;AAG1CwE,UAAAA,GAAG,EAAE;AAAExE,YAAAA,UAAU,EAAE;AAAd,WAHqC;AAI1CoE,UAAAA,MAAM,EAAE;AAAEpE,YAAAA,UAAU,EAAE;AAAd,WAJkC;AAK1CuE,UAAAA,GAAG,EAAE;AAAEvE,YAAAA,UAAU,EAAE;AAAd,WALqC;AAM1CqE,UAAAA,MAAM,EAAE;AAAErE,YAAAA,UAAU,EAAE;AAAd,WANkC;AAO1CsG,UAAAA,IAAI,EAAE;AAAEtG,YAAAA,UAAU,EAAE;AAAd,WAPoC;AAQ1CoH,UAAAA,MAAM,EAAE;AAAEpH,YAAAA,UAAU,EAAE;AAAd,WARkC;AAS1CqH,UAAAA,OAAO,EAAE;AAAErH,YAAAA,UAAU,EAAE;AAAd;AATiC,SAA3C;;AAYA,iBAASiH,UAAT,CAAoB7E,OAApB,EAA6B;AAC5B,cAAIkF,IAAI,GAAGpK,SAAS,CAACK,MAAV,GAAmB,CAAnB,IAAwBL,SAAS,CAAC,CAAD,CAAT,KAAiBoB,SAAzC,GAAqDpB,SAAS,CAAC,CAAD,CAA9D,GAAoE,WAA/E;AAEA,cAAMoJ,IAAI,GAAGtK,MAAM,CAACsK,IAAP,CAAYlE,OAAO,CAAC4D,GAAD,CAAnB,EAA0BvB,IAA1B,EAAb;AACA,iBAAO6B,IAAI,CAACR,GAAL,CAASwB,IAAI,KAAK,KAAT,GAAiB,UAAUC,CAAV,EAAa;AAC7C,mBAAOA,CAAC,CAAChJ,WAAF,EAAP;AACA,WAFe,GAEZ+I,IAAI,KAAK,OAAT,GAAmB,UAAUC,CAAV,EAAa;AACnC,mBAAOnF,OAAO,CAAC4D,GAAD,CAAP,CAAauB,CAAb,EAAgBV,IAAhB,CAAqB,IAArB,CAAP;AACA,WAFG,GAEA,UAAUU,CAAV,EAAa;AAChB,mBAAO,CAACA,CAAC,CAAChJ,WAAF,EAAD,EAAkB6D,OAAO,CAAC4D,GAAD,CAAP,CAAauB,CAAb,EAAgBV,IAAhB,CAAqB,IAArB,CAAlB,CAAP;AACA,WANM,CAAP;AAOA;;AAED,YAAMW,QAAQ,GAAG3K,MAAM,CAAC,UAAD,CAAvB;;AAEA,iBAASsK,qBAAT,CAA+BM,MAA/B,EAAuCH,IAAvC,EAA6C;AAC5C,cAAMb,QAAQ,GAAGzK,MAAM,CAAC4E,MAAP,CAAc8G,wBAAd,CAAjB;AACAjB,UAAAA,QAAQ,CAACe,QAAD,CAAR,GAAqB;AACpBC,YAAAA,MADoB;AAEpBH,YAAAA,IAFoB;AAGpBK,YAAAA,KAAK,EAAE;AAHa,WAArB;AAKA,iBAAOlB,QAAP;AACA;;AAED,YAAMiB,wBAAwB,GAAG1L,MAAM,CAAC4L,cAAP,CAAsB;AACtDC,UAAAA,IAAI,GAAG;AACN;AACA,gBAAI,CAAC,IAAD,IAAS7L,MAAM,CAAC8L,cAAP,CAAsB,IAAtB,MAAgCJ,wBAA7C,EAAuE;AACtE,oBAAM,IAAIrE,SAAJ,CAAc,0CAAd,CAAN;AACA;;AAED,gBAAI0E,SAAS,GAAG,KAAKP,QAAL,CAAhB;AACA,gBAAMC,MAAM,GAAGM,SAAS,CAACN,MAAzB;AAAA,gBACMH,IAAI,GAAGS,SAAS,CAACT,IADvB;AAAA,gBAEMK,KAAK,GAAGI,SAAS,CAACJ,KAFxB;AAIA,gBAAMP,MAAM,GAAGH,UAAU,CAACQ,MAAD,EAASH,IAAT,CAAzB;AACA,gBAAMU,GAAG,GAAGZ,MAAM,CAAC7J,MAAnB;;AACA,gBAAIoK,KAAK,IAAIK,GAAb,EAAkB;AACjB,qBAAO;AACN9L,gBAAAA,KAAK,EAAEoC,SADD;AAEN2J,gBAAAA,IAAI,EAAE;AAFA,eAAP;AAIA;;AAED,iBAAKT,QAAL,EAAeG,KAAf,GAAuBA,KAAK,GAAG,CAA/B;AAEA,mBAAO;AACNzL,cAAAA,KAAK,EAAEkL,MAAM,CAACO,KAAD,CADP;AAENM,cAAAA,IAAI,EAAE;AAFA,aAAP;AAIA;;AA3BqD,SAAtB,EA4B9BjM,MAAM,CAAC8L,cAAP,CAAsB9L,MAAM,CAAC8L,cAAP,CAAsB,GAAGjL,MAAM,CAAC4J,QAAV,GAAtB,CAAtB,CA5B8B,CAAjC;AA8BAzK,QAAAA,MAAM,CAACC,cAAP,CAAsByL,wBAAtB,EAAgD7K,MAAM,CAACoD,WAAvD,EAAoE;AACnE/D,UAAAA,KAAK,EAAE,iBAD4D;AAEnEgE,UAAAA,QAAQ,EAAE,KAFyD;AAGnEF,UAAAA,UAAU,EAAE,KAHuD;AAInEG,UAAAA,YAAY,EAAE;AAJqD,SAApE;AAOA;AACD;AACA;AACA;AACA;AACA;;AACC,iBAAS+H,2BAAT,CAAqC9F,OAArC,EAA8C;AAC7C,cAAM+B,GAAG,GAAGnI,MAAM,CAACsG,MAAP,CAAc;AAAE6F,YAAAA,SAAS,EAAE;AAAb,WAAd,EAAmC/F,OAAO,CAAC4D,GAAD,CAA1C,CAAZ,CAD6C,CAG7C;AACA;;AACA,cAAMoC,aAAa,GAAGvC,IAAI,CAACzD,OAAO,CAAC4D,GAAD,CAAR,EAAe,MAAf,CAA1B;;AACA,cAAIoC,aAAa,KAAK9J,SAAtB,EAAiC;AAChC6F,YAAAA,GAAG,CAACiE,aAAD,CAAH,GAAqBjE,GAAG,CAACiE,aAAD,CAAH,CAAmB,CAAnB,CAArB;AACA;;AAED,iBAAOjE,GAAP;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,iBAASkE,oBAAT,CAA8BlE,GAA9B,EAAmC;AAClC,cAAM/B,OAAO,GAAG,IAAI6D,OAAJ,EAAhB;;AACA,eAAK,IAAMpF,IAAX,IAAmB7E,MAAM,CAACsK,IAAP,CAAYnC,GAAZ,CAAnB,EAAqC;AACpC,gBAAIsB,iBAAiB,CAACjH,IAAlB,CAAuBqC,IAAvB,CAAJ,EAAkC;AACjC;AACA;;AACD,gBAAI+F,KAAK,CAAC0B,OAAN,CAAcnE,GAAG,CAACtD,IAAD,CAAjB,CAAJ,EAA8B;AAC7B,mBAAK,IAAM0H,GAAX,IAAkBpE,GAAG,CAACtD,IAAD,CAArB,EAA6B;AAC5B,oBAAI6E,sBAAsB,CAAClH,IAAvB,CAA4B+J,GAA5B,CAAJ,EAAsC;AACrC;AACA;;AACD,oBAAInG,OAAO,CAAC4D,GAAD,CAAP,CAAanF,IAAb,MAAuBvC,SAA3B,EAAsC;AACrC8D,kBAAAA,OAAO,CAAC4D,GAAD,CAAP,CAAanF,IAAb,IAAqB,CAAC0H,GAAD,CAArB;AACA,iBAFD,MAEO;AACNnG,kBAAAA,OAAO,CAAC4D,GAAD,CAAP,CAAanF,IAAb,EAAmB1C,IAAnB,CAAwBoK,GAAxB;AACA;AACD;AACD,aAXD,MAWO,IAAI,CAAC7C,sBAAsB,CAAClH,IAAvB,CAA4B2F,GAAG,CAACtD,IAAD,CAA/B,CAAL,EAA6C;AACnDuB,cAAAA,OAAO,CAAC4D,GAAD,CAAP,CAAanF,IAAb,IAAqB,CAACsD,GAAG,CAACtD,IAAD,CAAJ,CAArB;AACA;AACD;;AACD,iBAAOuB,OAAP;AACA;;AAED,YAAMoG,WAAW,GAAG3L,MAAM,CAAC,oBAAD,CAA1B,CAthC0F,CAwhC1F;;AACA,YAAM4L,YAAY,GAAGnM,IAAI,CAACmM,YAA1B;AAEA;AACD;AACA;AACA;AACA;AACA;AACA;;AACC,cAAMC,QAAN,CAAe;AACd1L,UAAAA,WAAW,GAAG;AACb,gBAAImE,IAAI,GAAGjE,SAAS,CAACK,MAAV,GAAmB,CAAnB,IAAwBL,SAAS,CAAC,CAAD,CAAT,KAAiBoB,SAAzC,GAAqDpB,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAA/E;AACA,gBAAIyL,IAAI,GAAGzL,SAAS,CAACK,MAAV,GAAmB,CAAnB,IAAwBL,SAAS,CAAC,CAAD,CAAT,KAAiBoB,SAAzC,GAAqDpB,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AAEAgE,YAAAA,IAAI,CAACV,IAAL,CAAU,IAAV,EAAgBW,IAAhB,EAAsBwH,IAAtB;AAEA,gBAAMC,MAAM,GAAGD,IAAI,CAACC,MAAL,IAAe,GAA9B;AACA,gBAAMxG,OAAO,GAAG,IAAI6D,OAAJ,CAAY0C,IAAI,CAACvG,OAAjB,CAAhB;;AAEA,gBAAIjB,IAAI,IAAI,IAAR,IAAgB,CAACiB,OAAO,CAACmC,GAAR,CAAY,cAAZ,CAArB,EAAkD;AACjD,kBAAMsE,WAAW,GAAG7D,kBAAkB,CAAC7D,IAAD,CAAtC;;AACA,kBAAI0H,WAAJ,EAAiB;AAChBzG,gBAAAA,OAAO,CAACgC,MAAR,CAAe,cAAf,EAA+ByE,WAA/B;AACA;AACD;;AAED,iBAAKL,WAAL,IAAoB;AACnB/M,cAAAA,GAAG,EAAEkN,IAAI,CAAClN,GADS;AAEnBmN,cAAAA,MAFmB;AAGnBE,cAAAA,UAAU,EAAEH,IAAI,CAACG,UAAL,IAAmBL,YAAY,CAACG,MAAD,CAHxB;AAInBxG,cAAAA,OAJmB;AAKnB2G,cAAAA,OAAO,EAAEJ,IAAI,CAACI;AALK,aAApB;AAOA;;AAEM,cAAHtN,GAAG,GAAG;AACT,mBAAO,KAAK+M,WAAL,EAAkB/M,GAAlB,IAAyB,EAAhC;AACA;;AAES,cAANmN,MAAM,GAAG;AACZ,mBAAO,KAAKJ,WAAL,EAAkBI,MAAzB;AACA;AAED;AACF;AACA;;;AACQ,cAAFI,EAAE,GAAG;AACR,mBAAO,KAAKR,WAAL,EAAkBI,MAAlB,IAA4B,GAA5B,IAAmC,KAAKJ,WAAL,EAAkBI,MAAlB,GAA2B,GAArE;AACA;;AAEa,cAAVK,UAAU,GAAG;AAChB,mBAAO,KAAKT,WAAL,EAAkBO,OAAlB,GAA4B,CAAnC;AACA;;AAEa,cAAVD,UAAU,GAAG;AAChB,mBAAO,KAAKN,WAAL,EAAkBM,UAAzB;AACA;;AAEU,cAAP1G,OAAO,GAAG;AACb,mBAAO,KAAKoG,WAAL,EAAkBpG,OAAzB;AACA;AAED;AACF;AACA;AACA;AACA;;;AACEsC,UAAAA,KAAK,GAAG;AACP,mBAAO,IAAIgE,QAAJ,CAAahE,KAAK,CAAC,IAAD,CAAlB,EAA0B;AAChCjJ,cAAAA,GAAG,EAAE,KAAKA,GADsB;AAEhCmN,cAAAA,MAAM,EAAE,KAAKA,MAFmB;AAGhCE,cAAAA,UAAU,EAAE,KAAKA,UAHe;AAIhC1G,cAAAA,OAAO,EAAE,KAAKA,OAJkB;AAKhC4G,cAAAA,EAAE,EAAE,KAAKA,EALuB;AAMhCC,cAAAA,UAAU,EAAE,KAAKA;AANe,aAA1B,CAAP;AAQA;;AAnEa;;AAsEf/H,QAAAA,IAAI,CAAC6B,KAAL,CAAW2F,QAAQ,CAAC3I,SAApB;AAEA/D,QAAAA,MAAM,CAAC8D,gBAAP,CAAwB4I,QAAQ,CAAC3I,SAAjC,EAA4C;AAC3CtE,UAAAA,GAAG,EAAE;AAAEuE,YAAAA,UAAU,EAAE;AAAd,WADsC;AAE3C4I,UAAAA,MAAM,EAAE;AAAE5I,YAAAA,UAAU,EAAE;AAAd,WAFmC;AAG3CgJ,UAAAA,EAAE,EAAE;AAAEhJ,YAAAA,UAAU,EAAE;AAAd,WAHuC;AAI3CiJ,UAAAA,UAAU,EAAE;AAAEjJ,YAAAA,UAAU,EAAE;AAAd,WAJ+B;AAK3C8I,UAAAA,UAAU,EAAE;AAAE9I,YAAAA,UAAU,EAAE;AAAd,WAL+B;AAM3CoC,UAAAA,OAAO,EAAE;AAAEpC,YAAAA,UAAU,EAAE;AAAd,WANkC;AAO3C0E,UAAAA,KAAK,EAAE;AAAE1E,YAAAA,UAAU,EAAE;AAAd;AAPoC,SAA5C;AAUAhE,QAAAA,MAAM,CAACC,cAAP,CAAsByM,QAAQ,CAAC3I,SAA/B,EAA0ClD,MAAM,CAACoD,WAAjD,EAA8D;AAC7D/D,UAAAA,KAAK,EAAE,UADsD;AAE7DgE,UAAAA,QAAQ,EAAE,KAFmD;AAG7DF,UAAAA,UAAU,EAAE,KAHiD;AAI7DG,UAAAA,YAAY,EAAE;AAJ+C,SAA9D;AAOA,YAAM+I,WAAW,GAAGrM,MAAM,CAAC,mBAAD,CAA1B;AACA,YAAMsM,GAAG,GAAG5M,GAAG,CAAC4M,GAAJ,IAAW3M,SAAS,CAAC2M,GAAjC,CA5nC0F,CA8nC1F;;AACA,YAAMC,SAAS,GAAG7M,GAAG,CAACmG,KAAtB;AACA,YAAM2G,UAAU,GAAG9M,GAAG,CAAC+M,MAAvB;AAEA;AACD;AACA;AACA;AACA;AACA;;AACC,iBAASC,QAAT,CAAkBC,MAAlB,EAA0B;AACzB;AACF;AACA;AACA;AACA;AACE,cAAI,4BAA4BvF,IAA5B,CAAiCuF,MAAjC,CAAJ,EAA8C;AAC7CA,YAAAA,MAAM,GAAG,IAAIL,GAAJ,CAAQK,MAAR,EAAgB5K,QAAhB,EAAT;AACA,WARwB,CAUzB;;;AACA,iBAAOwK,SAAS,CAACI,MAAD,CAAhB;AACA;;AAED,YAAMC,0BAA0B,IAAG,aAAapN,MAAM,CAACM,QAAP,CAAgBoD,SAAhC,CAAhC;AAEA;AACD;AACA;AACA;AACA;AACA;;AACC,iBAAS2J,SAAT,CAAmBC,KAAnB,EAA0B;AACzB,iBAAO,OAAOA,KAAP,KAAiB,QAAjB,IAA6B,OAAOA,KAAK,CAACT,WAAD,CAAZ,KAA8B,QAAlE;AACA;;AAED,iBAASU,aAAT,CAAuBC,MAAvB,EAA+B;AAC9B,cAAM7G,KAAK,GAAG6G,MAAM,IAAI,OAAOA,MAAP,KAAkB,QAA5B,IAAwC7N,MAAM,CAAC8L,cAAP,CAAsB+B,MAAtB,CAAtD;AACA,iBAAO,CAAC,EAAE7G,KAAK,IAAIA,KAAK,CAAChG,WAAN,CAAkB6D,IAAlB,KAA2B,aAAtC,CAAR;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,cAAMiJ,OAAN,CAAc;AACb9M,UAAAA,WAAW,CAAC2M,KAAD,EAAQ;AAClB,gBAAIzD,IAAI,GAAGhJ,SAAS,CAACK,MAAV,GAAmB,CAAnB,IAAwBL,SAAS,CAAC,CAAD,CAAT,KAAiBoB,SAAzC,GAAqDpB,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AAEA,gBAAI6M,SAAJ,CAHkB,CAKlB;;AACA,gBAAI,CAACL,SAAS,CAACC,KAAD,CAAd,EAAuB;AACtB,kBAAIA,KAAK,IAAIA,KAAK,CAACK,IAAnB,EAAyB;AACxB;AACA;AACA;AACAD,gBAAAA,SAAS,GAAGR,QAAQ,CAACI,KAAK,CAACK,IAAP,CAApB;AACA,eALD,MAKO;AACN;AACAD,gBAAAA,SAAS,GAAGR,QAAQ,MAAII,KAAJ,CAApB;AACA;;AACDA,cAAAA,KAAK,GAAG,EAAR;AACA,aAXD,MAWO;AACNI,cAAAA,SAAS,GAAGR,QAAQ,CAACI,KAAK,CAAClO,GAAP,CAApB;AACA;;AAED,gBAAI+K,MAAM,GAAGN,IAAI,CAACM,MAAL,IAAemD,KAAK,CAACnD,MAArB,IAA+B,KAA5C;AACAA,YAAAA,MAAM,GAAGA,MAAM,CAACyD,WAAP,EAAT;;AAEA,gBAAI,CAAC/D,IAAI,CAAC/E,IAAL,IAAa,IAAb,IAAqBuI,SAAS,CAACC,KAAD,CAAT,IAAoBA,KAAK,CAACxI,IAAN,KAAe,IAAzD,MAAmEqF,MAAM,KAAK,KAAX,IAAoBA,MAAM,KAAK,MAAlG,CAAJ,EAA+G;AAC9G,oBAAM,IAAInD,SAAJ,CAAc,+CAAd,CAAN;AACA;;AAED,gBAAI6G,SAAS,GAAGhE,IAAI,CAAC/E,IAAL,IAAa,IAAb,GAAoB+E,IAAI,CAAC/E,IAAzB,GAAgCuI,SAAS,CAACC,KAAD,CAAT,IAAoBA,KAAK,CAACxI,IAAN,KAAe,IAAnC,GAA0CuD,KAAK,CAACiF,KAAD,CAA/C,GAAyD,IAAzG;AAEAzI,YAAAA,IAAI,CAACV,IAAL,CAAU,IAAV,EAAgB0J,SAAhB,EAA2B;AAC1B1I,cAAAA,OAAO,EAAE0E,IAAI,CAAC1E,OAAL,IAAgBmI,KAAK,CAACnI,OAAtB,IAAiC,CADhB;AAE1BnE,cAAAA,IAAI,EAAE6I,IAAI,CAAC7I,IAAL,IAAasM,KAAK,CAACtM,IAAnB,IAA2B;AAFP,aAA3B;AAKA,gBAAM+E,OAAO,GAAG,IAAI6D,OAAJ,CAAYC,IAAI,CAAC9D,OAAL,IAAgBuH,KAAK,CAACvH,OAAtB,IAAiC,EAA7C,CAAhB;;AAEA,gBAAI8H,SAAS,IAAI,IAAb,IAAqB,CAAC9H,OAAO,CAACmC,GAAR,CAAY,cAAZ,CAA1B,EAAuD;AACtD,kBAAMsE,WAAW,GAAG7D,kBAAkB,CAACkF,SAAD,CAAtC;;AACA,kBAAIrB,WAAJ,EAAiB;AAChBzG,gBAAAA,OAAO,CAACgC,MAAR,CAAe,cAAf,EAA+ByE,WAA/B;AACA;AACD;;AAED,gBAAIgB,MAAM,GAAGH,SAAS,CAACC,KAAD,CAAT,GAAmBA,KAAK,CAACE,MAAzB,GAAkC,IAA/C;AACA,gBAAI,YAAY3D,IAAhB,EAAsB2D,MAAM,GAAG3D,IAAI,CAAC2D,MAAd;;AAEtB,gBAAIA,MAAM,IAAI,IAAV,IAAkB,CAACD,aAAa,CAACC,MAAD,CAApC,EAA8C;AAC7C,oBAAM,IAAIxG,SAAJ,CAAc,iDAAd,CAAN;AACA;;AAED,iBAAK6F,WAAL,IAAoB;AACnB1C,cAAAA,MADmB;AAEnB2D,cAAAA,QAAQ,EAAEjE,IAAI,CAACiE,QAAL,IAAiBR,KAAK,CAACQ,QAAvB,IAAmC,QAF1B;AAGnB/H,cAAAA,OAHmB;AAInB2H,cAAAA,SAJmB;AAKnBF,cAAAA;AALmB,aAApB,CAnDkB,CA2DlB;;AACA,iBAAKO,MAAL,GAAclE,IAAI,CAACkE,MAAL,KAAgB9L,SAAhB,GAA4B4H,IAAI,CAACkE,MAAjC,GAA0CT,KAAK,CAACS,MAAN,KAAiB9L,SAAjB,GAA6BqL,KAAK,CAACS,MAAnC,GAA4C,EAApG;AACA,iBAAKC,QAAL,GAAgBnE,IAAI,CAACmE,QAAL,KAAkB/L,SAAlB,GAA8B4H,IAAI,CAACmE,QAAnC,GAA8CV,KAAK,CAACU,QAAN,KAAmB/L,SAAnB,GAA+BqL,KAAK,CAACU,QAArC,GAAgD,IAA9G;AACA,iBAAKtB,OAAL,GAAe7C,IAAI,CAAC6C,OAAL,IAAgBY,KAAK,CAACZ,OAAtB,IAAiC,CAAhD;AACA,iBAAKuB,KAAL,GAAapE,IAAI,CAACoE,KAAL,IAAcX,KAAK,CAACW,KAAjC;AACA;;AAES,cAAN9D,MAAM,GAAG;AACZ,mBAAO,KAAK0C,WAAL,EAAkB1C,MAAzB;AACA;;AAEM,cAAH/K,GAAG,GAAG;AACT,mBAAO4N,UAAU,CAAC,KAAKH,WAAL,EAAkBa,SAAnB,CAAjB;AACA;;AAEU,cAAP3H,OAAO,GAAG;AACb,mBAAO,KAAK8G,WAAL,EAAkB9G,OAAzB;AACA;;AAEW,cAAR+H,QAAQ,GAAG;AACd,mBAAO,KAAKjB,WAAL,EAAkBiB,QAAzB;AACA;;AAES,cAANN,MAAM,GAAG;AACZ,mBAAO,KAAKX,WAAL,EAAkBW,MAAzB;AACA;AAED;AACF;AACA;AACA;AACA;;;AACEnF,UAAAA,KAAK,GAAG;AACP,mBAAO,IAAIoF,OAAJ,CAAY,IAAZ,CAAP;AACA;;AA9FY;;AAiGd5I,QAAAA,IAAI,CAAC6B,KAAL,CAAW+G,OAAO,CAAC/J,SAAnB;AAEA/D,QAAAA,MAAM,CAACC,cAAP,CAAsB6N,OAAO,CAAC/J,SAA9B,EAAyClD,MAAM,CAACoD,WAAhD,EAA6D;AAC5D/D,UAAAA,KAAK,EAAE,SADqD;AAE5DgE,UAAAA,QAAQ,EAAE,KAFkD;AAG5DF,UAAAA,UAAU,EAAE,KAHgD;AAI5DG,UAAAA,YAAY,EAAE;AAJ8C,SAA7D;AAOAnE,QAAAA,MAAM,CAAC8D,gBAAP,CAAwBgK,OAAO,CAAC/J,SAAhC,EAA2C;AAC1CyG,UAAAA,MAAM,EAAE;AAAExG,YAAAA,UAAU,EAAE;AAAd,WADkC;AAE1CvE,UAAAA,GAAG,EAAE;AAAEuE,YAAAA,UAAU,EAAE;AAAd,WAFqC;AAG1CoC,UAAAA,OAAO,EAAE;AAAEpC,YAAAA,UAAU,EAAE;AAAd,WAHiC;AAI1CmK,UAAAA,QAAQ,EAAE;AAAEnK,YAAAA,UAAU,EAAE;AAAd,WAJgC;AAK1C0E,UAAAA,KAAK,EAAE;AAAE1E,YAAAA,UAAU,EAAE;AAAd,WALmC;AAM1C6J,UAAAA,MAAM,EAAE;AAAE7J,YAAAA,UAAU,EAAE;AAAd;AANkC,SAA3C;AASA;AACD;AACA;AACA;AACA;AACA;;AACC,iBAASuK,qBAAT,CAA+BC,OAA/B,EAAwC;AACvC,cAAMT,SAAS,GAAGS,OAAO,CAACtB,WAAD,CAAP,CAAqBa,SAAvC;AACA,cAAM3H,OAAO,GAAG,IAAI6D,OAAJ,CAAYuE,OAAO,CAACtB,WAAD,CAAP,CAAqB9G,OAAjC,CAAhB,CAFuC,CAIvC;;AACA,cAAI,CAACA,OAAO,CAACmC,GAAR,CAAY,QAAZ,CAAL,EAA4B;AAC3BnC,YAAAA,OAAO,CAACoC,GAAR,CAAY,QAAZ,EAAsB,KAAtB;AACA,WAPsC,CASvC;;;AACA,cAAI,CAACuF,SAAS,CAACU,QAAX,IAAuB,CAACV,SAAS,CAACW,QAAtC,EAAgD;AAC/C,kBAAM,IAAIrH,SAAJ,CAAc,kCAAd,CAAN;AACA;;AAED,cAAI,CAAC,YAAY7E,IAAZ,CAAiBuL,SAAS,CAACU,QAA3B,CAAL,EAA2C;AAC1C,kBAAM,IAAIpH,SAAJ,CAAc,sCAAd,CAAN;AACA;;AAED,cAAImH,OAAO,CAACX,MAAR,IAAkBW,OAAO,CAACrJ,IAAR,YAAwB9E,MAAM,CAACM,QAAjD,IAA6D,CAAC8M,0BAAlE,EAA8F;AAC7F,kBAAM,IAAIlJ,KAAJ,CAAU,iFAAV,CAAN;AACA,WApBsC,CAsBvC;;;AACA,cAAIoK,kBAAkB,GAAG,IAAzB;;AACA,cAAIH,OAAO,CAACrJ,IAAR,IAAgB,IAAhB,IAAwB,gBAAgB3C,IAAhB,CAAqBgM,OAAO,CAAChE,MAA7B,CAA5B,EAAkE;AACjEmE,YAAAA,kBAAkB,GAAG,GAArB;AACA;;AACD,cAAIH,OAAO,CAACrJ,IAAR,IAAgB,IAApB,EAA0B;AACzB,gBAAMyJ,UAAU,GAAG3F,aAAa,CAACuF,OAAD,CAAhC;;AACA,gBAAI,OAAOI,UAAP,KAAsB,QAA1B,EAAoC;AACnCD,cAAAA,kBAAkB,GAAGzM,MAAM,CAAC0M,UAAD,CAA3B;AACA;AACD;;AACD,cAAID,kBAAJ,EAAwB;AACvBvI,YAAAA,OAAO,CAACoC,GAAR,CAAY,gBAAZ,EAA8BmG,kBAA9B;AACA,WAnCsC,CAqCvC;;;AACA,cAAI,CAACvI,OAAO,CAACmC,GAAR,CAAY,YAAZ,CAAL,EAAgC;AAC/BnC,YAAAA,OAAO,CAACoC,GAAR,CAAY,YAAZ,EAA0B,wDAA1B;AACA,WAxCsC,CA0CvC;;;AACA,cAAIgG,OAAO,CAACH,QAAR,IAAoB,CAACjI,OAAO,CAACmC,GAAR,CAAY,iBAAZ,CAAzB,EAAyD;AACxDnC,YAAAA,OAAO,CAACoC,GAAR,CAAY,iBAAZ,EAA+B,cAA/B;AACA;;AAED,cAAI8F,KAAK,GAAGE,OAAO,CAACF,KAApB;;AACA,cAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiC;AAChCA,YAAAA,KAAK,GAAGA,KAAK,CAACP,SAAD,CAAb;AACA;;AAED,cAAI,CAAC3H,OAAO,CAACmC,GAAR,CAAY,YAAZ,CAAD,IAA8B,CAAC+F,KAAnC,EAA0C;AACzClI,YAAAA,OAAO,CAACoC,GAAR,CAAY,YAAZ,EAA0B,OAA1B;AACA,WAtDsC,CAwDvC;AACA;;;AAEA,iBAAOxI,MAAM,CAACsG,MAAP,CAAc,EAAd,EAAkByH,SAAlB,EAA6B;AACnCvD,YAAAA,MAAM,EAAEgE,OAAO,CAAChE,MADmB;AAEnCpE,YAAAA,OAAO,EAAE8F,2BAA2B,CAAC9F,OAAD,CAFD;AAGnCkI,YAAAA;AAHmC,WAA7B,CAAP;AAKA;AAED;AACD;AACA;AACA;AACA;;AAEC;AACD;AACA;AACA;AACA;AACA;;;AACC,iBAASO,UAAT,CAAoBxK,OAApB,EAA6B;AAC3BE,UAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBH,OAAjB;AAEA,eAAKhC,IAAL,GAAY,SAAZ;AACA,eAAKgC,OAAL,GAAeA,OAAf,CAJ2B,CAM3B;;AACAE,UAAAA,KAAK,CAACI,iBAAN,CAAwB,IAAxB,EAA8B,KAAK3D,WAAnC;AACD;;AAED6N,QAAAA,UAAU,CAAC9K,SAAX,GAAuB/D,MAAM,CAAC4E,MAAP,CAAcL,KAAK,CAACR,SAApB,CAAvB;AACA8K,QAAAA,UAAU,CAAC9K,SAAX,CAAqB/C,WAArB,GAAmC6N,UAAnC;AACAA,QAAAA,UAAU,CAAC9K,SAAX,CAAqBc,IAArB,GAA4B,YAA5B;AAEA,YAAMiK,KAAK,GAAGvO,GAAG,CAAC4M,GAAJ,IAAW3M,SAAS,CAAC2M,GAAnC,CAn4C0F,CAq4C1F;;AACA,YAAM4B,aAAa,GAAG1O,MAAM,CAAC4E,WAA7B;;AAEA,YAAM+J,mBAAmB,GAAG,SAASA,mBAAT,CAA6BC,WAA7B,EAA0CC,QAA1C,EAAoD;AAC/E,cAAMC,IAAI,GAAG,IAAIL,KAAJ,CAAUI,QAAV,EAAoBR,QAAjC;AACA,cAAMpF,IAAI,GAAG,IAAIwF,KAAJ,CAAUG,WAAV,EAAuBP,QAApC;AAEA,iBAAOS,IAAI,KAAK7F,IAAT,IAAiB6F,IAAI,CAACA,IAAI,CAAC5N,MAAL,GAAc+H,IAAI,CAAC/H,MAAnB,GAA4B,CAA7B,CAAJ,KAAwC,GAAxC,IAA+C4N,IAAI,CAACC,QAAL,CAAc9F,IAAd,CAAvE;AACA,SALD;AAOA;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,iBAAS+F,KAAT,CAAe5P,GAAf,EAAoBkN,IAApB,EAA0B;AAEzB;AACA,cAAI,CAAC0C,KAAK,CAAC3M,OAAX,EAAoB;AACnB,kBAAM,IAAI6B,KAAJ,CAAU,wEAAV,CAAN;AACA;;AAEDW,UAAAA,IAAI,CAACxC,OAAL,GAAe2M,KAAK,CAAC3M,OAArB,CAPyB,CASzB;;AACA,iBAAO,IAAI2M,KAAK,CAAC3M,OAAV,CAAkB,UAAUC,OAAV,EAAmBgE,MAAnB,EAA2B;AACnD;AACA,gBAAM6H,OAAO,GAAG,IAAIV,OAAJ,CAAYrO,GAAZ,EAAiBkN,IAAjB,CAAhB;AACA,gBAAMxL,OAAO,GAAGoN,qBAAqB,CAACC,OAAD,CAArC;AAEA,gBAAMc,IAAI,GAAG,CAACnO,OAAO,CAACsN,QAAR,KAAqB,QAArB,GAAgChO,KAAhC,GAAwCH,IAAzC,EAA+CkO,OAA5D;AACA,gBAAMX,MAAM,GAAGW,OAAO,CAACX,MAAvB;AAEA,gBAAI0B,QAAQ,GAAG,IAAf;;AAEA,gBAAM9H,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC9B,kBAAI5B,KAAK,GAAG,IAAIgJ,UAAJ,CAAe,6BAAf,CAAZ;AACAlI,cAAAA,MAAM,CAACd,KAAD,CAAN;;AACA,kBAAI2I,OAAO,CAACrJ,IAAR,IAAgBqJ,OAAO,CAACrJ,IAAR,YAAwB9E,MAAM,CAACM,QAAnD,EAA6D;AAC5D6N,gBAAAA,OAAO,CAACrJ,IAAR,CAAaqK,OAAb,CAAqB3J,KAArB;AACA;;AACD,kBAAI,CAAC0J,QAAD,IAAa,CAACA,QAAQ,CAACpK,IAA3B,EAAiC;AACjCoK,cAAAA,QAAQ,CAACpK,IAAT,CAAcsK,IAAd,CAAmB,OAAnB,EAA4B5J,KAA5B;AACA,aARD;;AAUA,gBAAIgI,MAAM,IAAIA,MAAM,CAAC6B,OAArB,EAA8B;AAC7BjI,cAAAA,KAAK;AACL;AACA;;AAED,gBAAMkI,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AACpDlI,cAAAA,KAAK;AACLmI,cAAAA,QAAQ;AACR,aAHD,CAzBmD,CA8BnD;;;AACA,gBAAMC,GAAG,GAAGP,IAAI,CAACnO,OAAD,CAAhB;AACA,gBAAI2O,UAAJ;;AAEA,gBAAIjC,MAAJ,EAAY;AACXA,cAAAA,MAAM,CAACkC,gBAAP,CAAwB,OAAxB,EAAiCJ,gBAAjC;AACA;;AAED,qBAASC,QAAT,GAAoB;AACnBC,cAAAA,GAAG,CAACpI,KAAJ;AACA,kBAAIoG,MAAJ,EAAYA,MAAM,CAACmC,mBAAP,CAA2B,OAA3B,EAAoCL,gBAApC;AACZ9H,cAAAA,YAAY,CAACiI,UAAD,CAAZ;AACA;;AAED,gBAAItB,OAAO,CAAChJ,OAAZ,EAAqB;AACpBqK,cAAAA,GAAG,CAACI,IAAJ,CAAS,QAAT,EAAmB,UAAUC,MAAV,EAAkB;AACpCJ,gBAAAA,UAAU,GAAGnI,UAAU,CAAC,YAAY;AACnChB,kBAAAA,MAAM,CAAC,IAAIvC,UAAJ,0BAAsCoK,OAAO,CAAC/O,GAA9C,EAAqD,iBAArD,CAAD,CAAN;AACAmQ,kBAAAA,QAAQ;AACR,iBAHsB,EAGpBpB,OAAO,CAAChJ,OAHY,CAAvB;AAIA,eALD;AAMA;;AAEDqK,YAAAA,GAAG,CAAC/J,EAAJ,CAAO,OAAP,EAAgB,UAAUC,GAAV,EAAe;AAC9BY,cAAAA,MAAM,CAAC,IAAIvC,UAAJ,iBAA6BoK,OAAO,CAAC/O,GAArC,yBAA4DsG,GAAG,CAAC1B,OAAhE,EAA2E,QAA3E,EAAqF0B,GAArF,CAAD,CAAN;AACA6J,cAAAA,QAAQ;AACR,aAHD;AAKAC,YAAAA,GAAG,CAAC/J,EAAJ,CAAO,UAAP,EAAmB,UAAUiC,GAAV,EAAe;AACjCF,cAAAA,YAAY,CAACiI,UAAD,CAAZ;AAEA,kBAAM1J,OAAO,GAAGiG,oBAAoB,CAACtE,GAAG,CAAC3B,OAAL,CAApC,CAHiC,CAKjC;;AACA,kBAAIiJ,KAAK,CAACc,UAAN,CAAiBpI,GAAG,CAACqI,UAArB,CAAJ,EAAsC;AACrC;AACA,oBAAMC,QAAQ,GAAGjK,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAjB,CAFqC,CAIrC;;AACA,oBAAIiK,WAAW,GAAG,IAAlB;;AACA,oBAAI;AACHA,kBAAAA,WAAW,GAAGD,QAAQ,KAAK,IAAb,GAAoB,IAApB,GAA2B,IAAIvB,KAAJ,CAAUuB,QAAV,EAAoB7B,OAAO,CAAC/O,GAA5B,EAAiCmD,QAAjC,EAAzC;AACA,iBAFD,CAEE,OAAOmD,GAAP,EAAY;AACb;AACA;AACA;AACA,sBAAIyI,OAAO,CAACL,QAAR,KAAqB,QAAzB,EAAmC;AAClCxH,oBAAAA,MAAM,CAAC,IAAIvC,UAAJ,2DAAuEiM,QAAvE,EAAmF,kBAAnF,CAAD,CAAN;AACAT,oBAAAA,QAAQ;AACR;AACA;AACD,iBAjBoC,CAmBrC;;;AACA,wBAAQpB,OAAO,CAACL,QAAhB;AACC,uBAAK,OAAL;AACCxH,oBAAAA,MAAM,CAAC,IAAIvC,UAAJ,6EAAyFoK,OAAO,CAAC/O,GAAjG,EAAwG,aAAxG,CAAD,CAAN;AACAmQ,oBAAAA,QAAQ;AACR;;AACD,uBAAK,QAAL;AACC;AACA,wBAAIU,WAAW,KAAK,IAApB,EAA0B;AACzB;AACA,0BAAI;AACHlK,wBAAAA,OAAO,CAACoC,GAAR,CAAY,UAAZ,EAAwB8H,WAAxB;AACA,uBAFD,CAEE,OAAOvK,GAAP,EAAY;AACb;AACAY,wBAAAA,MAAM,CAACZ,GAAD,CAAN;AACA;AACD;;AACD;;AACD,uBAAK,QAAL;AACC;AACA,wBAAIuK,WAAW,KAAK,IAApB,EAA0B;AACzB;AACA,qBAJF,CAMC;;;AACA,wBAAI9B,OAAO,CAACzB,OAAR,IAAmByB,OAAO,CAACJ,MAA/B,EAAuC;AACtCzH,sBAAAA,MAAM,CAAC,IAAIvC,UAAJ,mCAA+CoK,OAAO,CAAC/O,GAAvD,EAA8D,cAA9D,CAAD,CAAN;AACAmQ,sBAAAA,QAAQ;AACR;AACA,qBAXF,CAaC;AACA;;;AACA,wBAAMW,WAAW,GAAG;AACnBnK,sBAAAA,OAAO,EAAE,IAAI6D,OAAJ,CAAYuE,OAAO,CAACpI,OAApB,CADU;AAEnBgI,sBAAAA,MAAM,EAAEI,OAAO,CAACJ,MAFG;AAGnBrB,sBAAAA,OAAO,EAAEyB,OAAO,CAACzB,OAAR,GAAkB,CAHR;AAInBuB,sBAAAA,KAAK,EAAEE,OAAO,CAACF,KAJI;AAKnBD,sBAAAA,QAAQ,EAAEG,OAAO,CAACH,QALC;AAMnB7D,sBAAAA,MAAM,EAAEgE,OAAO,CAAChE,MANG;AAOnBrF,sBAAAA,IAAI,EAAEqJ,OAAO,CAACrJ,IAPK;AAQnB0I,sBAAAA,MAAM,EAAEW,OAAO,CAACX,MARG;AASnBrI,sBAAAA,OAAO,EAAEgJ,OAAO,CAAChJ,OATE;AAUnBnE,sBAAAA,IAAI,EAAEmN,OAAO,CAACnN;AAVK,qBAApB;;AAaA,wBAAI,CAAC2N,mBAAmB,CAACR,OAAO,CAAC/O,GAAT,EAAc6Q,WAAd,CAAxB,EAAoD;AACnD,2BAAK,IAAMzL,IAAX,IAAmB,CAAC,eAAD,EAAkB,kBAAlB,EAAsC,QAAtC,EAAgD,SAAhD,CAAnB,EAA+E;AAC9E0L,wBAAAA,WAAW,CAACnK,OAAZ,CAAoBiC,MAApB,CAA2BxD,IAA3B;AACA;AACD,qBAhCF,CAkCC;;;AACA,wBAAIkD,GAAG,CAACqI,UAAJ,KAAmB,GAAnB,IAA0B5B,OAAO,CAACrJ,IAAlC,IAA0C8D,aAAa,CAACuF,OAAD,CAAb,KAA2B,IAAzE,EAA+E;AAC9E7H,sBAAAA,MAAM,CAAC,IAAIvC,UAAJ,CAAe,0DAAf,EAA2E,sBAA3E,CAAD,CAAN;AACAwL,sBAAAA,QAAQ;AACR;AACA,qBAvCF,CAyCC;;;AACA,wBAAI7H,GAAG,CAACqI,UAAJ,KAAmB,GAAnB,IAA0B,CAACrI,GAAG,CAACqI,UAAJ,KAAmB,GAAnB,IAA0BrI,GAAG,CAACqI,UAAJ,KAAmB,GAA9C,KAAsD5B,OAAO,CAAChE,MAAR,KAAmB,MAAvG,EAA+G;AAC9G+F,sBAAAA,WAAW,CAAC/F,MAAZ,GAAqB,KAArB;AACA+F,sBAAAA,WAAW,CAACpL,IAAZ,GAAmB7C,SAAnB;AACAiO,sBAAAA,WAAW,CAACnK,OAAZ,CAAoBiC,MAApB,CAA2B,gBAA3B;AACA,qBA9CF,CAgDC;;;AACA1F,oBAAAA,OAAO,CAAC0M,KAAK,CAAC,IAAIvB,OAAJ,CAAYwC,WAAZ,EAAyBC,WAAzB,CAAD,CAAN,CAAP;AACAX,oBAAAA,QAAQ;AACR;AApEF;AAsEA,eAhGgC,CAkGjC;;;AACA7H,cAAAA,GAAG,CAACkI,IAAJ,CAAS,KAAT,EAAgB,YAAY;AAC3B,oBAAIpC,MAAJ,EAAYA,MAAM,CAACmC,mBAAP,CAA2B,OAA3B,EAAoCL,gBAApC;AACZ,eAFD;AAGA,kBAAIxK,IAAI,GAAG4C,GAAG,CAACgB,IAAJ,CAAS,IAAIgG,aAAJ,EAAT,CAAX;AAEA,kBAAMyB,gBAAgB,GAAG;AACxB/Q,gBAAAA,GAAG,EAAE+O,OAAO,CAAC/O,GADW;AAExBmN,gBAAAA,MAAM,EAAE7E,GAAG,CAACqI,UAFY;AAGxBtD,gBAAAA,UAAU,EAAE/E,GAAG,CAAC0I,aAHQ;AAIxBrK,gBAAAA,OAAO,EAAEA,OAJe;AAKxB/E,gBAAAA,IAAI,EAAEmN,OAAO,CAACnN,IALU;AAMxBmE,gBAAAA,OAAO,EAAEgJ,OAAO,CAAChJ,OANO;AAOxBuH,gBAAAA,OAAO,EAAEyB,OAAO,CAACzB;AAPO,eAAzB,CAxGiC,CAkHjC;;AACA,kBAAM2D,OAAO,GAAGtK,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAhB,CAnHiC,CAqHjC;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,kBAAI,CAACmI,OAAO,CAACH,QAAT,IAAqBG,OAAO,CAAChE,MAAR,KAAmB,MAAxC,IAAkDkG,OAAO,KAAK,IAA9D,IAAsE3I,GAAG,CAACqI,UAAJ,KAAmB,GAAzF,IAAgGrI,GAAG,CAACqI,UAAJ,KAAmB,GAAvH,EAA4H;AAC3Hb,gBAAAA,QAAQ,GAAG,IAAI7C,QAAJ,CAAavH,IAAb,EAAmBqL,gBAAnB,CAAX;AACA7N,gBAAAA,OAAO,CAAC4M,QAAD,CAAP;AACA;AACA,eAjIgC,CAmIjC;AACA;AACA;AACA;AACA;;;AACA,kBAAMoB,WAAW,GAAG;AACnBC,gBAAAA,KAAK,EAAElQ,IAAI,CAACmQ,YADO;AAEnBC,gBAAAA,WAAW,EAAEpQ,IAAI,CAACmQ;AAFC,eAApB,CAxIiC,CA6IjC;;AACA,kBAAIH,OAAO,IAAI,MAAX,IAAqBA,OAAO,IAAI,QAApC,EAA8C;AAC7CvL,gBAAAA,IAAI,GAAGA,IAAI,CAAC4D,IAAL,CAAUrI,IAAI,CAACqQ,YAAL,CAAkBJ,WAAlB,CAAV,CAAP;AACApB,gBAAAA,QAAQ,GAAG,IAAI7C,QAAJ,CAAavH,IAAb,EAAmBqL,gBAAnB,CAAX;AACA7N,gBAAAA,OAAO,CAAC4M,QAAD,CAAP;AACA;AACA,eAnJgC,CAqJjC;;;AACA,kBAAImB,OAAO,IAAI,SAAX,IAAwBA,OAAO,IAAI,WAAvC,EAAoD;AACnD;AACA;AACA,oBAAMtG,GAAG,GAAGrC,GAAG,CAACgB,IAAJ,CAAS,IAAIgG,aAAJ,EAAT,CAAZ;AACA3E,gBAAAA,GAAG,CAAC6F,IAAJ,CAAS,MAAT,EAAiB,UAAUrI,KAAV,EAAiB;AACjC;AACA,sBAAI,CAACA,KAAK,CAAC,CAAD,CAAL,GAAW,IAAZ,MAAsB,IAA1B,EAAgC;AAC/BzC,oBAAAA,IAAI,GAAGA,IAAI,CAAC4D,IAAL,CAAUrI,IAAI,CAACsQ,aAAL,EAAV,CAAP;AACA,mBAFD,MAEO;AACN7L,oBAAAA,IAAI,GAAGA,IAAI,CAAC4D,IAAL,CAAUrI,IAAI,CAACuQ,gBAAL,EAAV,CAAP;AACA;;AACD1B,kBAAAA,QAAQ,GAAG,IAAI7C,QAAJ,CAAavH,IAAb,EAAmBqL,gBAAnB,CAAX;AACA7N,kBAAAA,OAAO,CAAC4M,QAAD,CAAP;AACA,iBATD;AAUA;AACA,eArKgC,CAuKjC;;;AACA,kBAAImB,OAAO,IAAI,IAAX,IAAmB,OAAOhQ,IAAI,CAACwQ,sBAAZ,KAAuC,UAA9D,EAA0E;AACzE/L,gBAAAA,IAAI,GAAGA,IAAI,CAAC4D,IAAL,CAAUrI,IAAI,CAACwQ,sBAAL,EAAV,CAAP;AACA3B,gBAAAA,QAAQ,GAAG,IAAI7C,QAAJ,CAAavH,IAAb,EAAmBqL,gBAAnB,CAAX;AACA7N,gBAAAA,OAAO,CAAC4M,QAAD,CAAP;AACA;AACA,eA7KgC,CA+KjC;;;AACAA,cAAAA,QAAQ,GAAG,IAAI7C,QAAJ,CAAavH,IAAb,EAAmBqL,gBAAnB,CAAX;AACA7N,cAAAA,OAAO,CAAC4M,QAAD,CAAP;AACA,aAlLD;AAoLAlG,YAAAA,aAAa,CAACwG,GAAD,EAAMrB,OAAN,CAAb;AACA,WA/OM,CAAP;AAgPA;AACD;AACD;AACA;AACA;AACA;AACA;;;AACCa,QAAAA,KAAK,CAACc,UAAN,GAAmB,UAAU1L,IAAV,EAAgB;AAClC,iBAAOA,IAAI,KAAK,GAAT,IAAgBA,IAAI,KAAK,GAAzB,IAAgCA,IAAI,KAAK,GAAzC,IAAgDA,IAAI,KAAK,GAAzD,IAAgEA,IAAI,KAAK,GAAhF;AACA,SAFD,CAvpD0F,CA2pD1F;;;AACA4K,QAAAA,KAAK,CAAC3M,OAAN,GAAgB8G,MAAM,CAAC9G,OAAvB;AAEA7C,QAAAA,MAAM,CAACF,OAAP,GAAiBA,OAAO,GAAG0P,KAA3B;AACArP,QAAAA,MAAM,CAACC,cAAP,CAAsBN,OAAtB,EAA+B,YAA/B,EAA6C;AAAEO,UAAAA,KAAK,EAAE;AAAT,SAA7C;AACAP,QAAAA,OAAO,CAACwR,OAAR,GAAkBxR,OAAlB;AACAA,QAAAA,OAAO,CAACsK,OAAR,GAAkBA,OAAlB;AACAtK,QAAAA,OAAO,CAACmO,OAAR,GAAkBA,OAAlB;AACAnO,QAAAA,OAAO,CAAC+M,QAAR,GAAmBA,QAAnB;AACA/M,QAAAA,OAAO,CAACyE,UAAR,GAAqBA,UAArB,CApqD0F,CAuqD3F;;AAEA,2BAAAgN,WAAW,GAAGvR,MAAM,CAACF,OAArB;;AACA0R,QAAAA,WAAW,GAAGxR,MAAM,CAACF,OAAP,CAAe2R,UAA7B;AACAC,QAAAA,QAAQ,GAAG1R,MAAM,CAACF,OAAP,CAAewR,OAA1B;AACAK,QAAAA,QAAQ,GAAG3R,MAAM,CAACF,OAAP,CAAesK,OAA1B;AACAwH,QAAAA,QAAQ,GAAG5R,MAAM,CAACF,OAAP,CAAemO,OAA1B;AACA4D,QAAAA,SAAS,GAAG7R,MAAM,CAACF,OAAP,CAAe+M,QAA3B;AACAiF,QAAAA,WAAW,GAAG9R,MAAM,CAACF,OAAP,CAAeyE,UAA7B;AAEC,OAjrDD,EAirDG,OAAO;AACR,kBAAUnF,IADF;AAER,gBAAQE,KAFA;AAGR,eAAOC,KAHC;AAIR,sBAAcC,KAJN;AAKR,iBAASC,KALD;AAMR,gBAAQC,KANA;AAOR,oBAAYC;AAPJ,OAAP,CAjrDH","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from 'stream';\nimport { __cjsMetaURL as _req0} from 'http';\nimport { __cjsMetaURL as _req1} from 'url';\nimport { __cjsMetaURL as _req2} from 'whatwg-url';\nimport { __cjsMetaURL as _req3} from 'https';\nimport { __cjsMetaURL as _req4} from 'zlib';\nimport { __cjsMetaURL as _req5} from 'encoding';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nlet _Headers;\nlet _Request;\nlet _Response;\nlet _FetchError;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n 'use strict';\n\n Object.defineProperty(exports, '__esModule', { value: true });\n\n function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n var Stream = _interopDefault(require('stream'));\n var http = _interopDefault(require('http'));\n var Url = _interopDefault(require('url'));\n var whatwgUrl = _interopDefault(require('whatwg-url'));\n var https = _interopDefault(require('https'));\n var zlib = _interopDefault(require('zlib'));\n\n // Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n // fix for \"Readable\" isn't a named export issue\n const Readable = Stream.Readable;\n\n const BUFFER = Symbol('buffer');\n const TYPE = Symbol('type');\n\n class Blob {\n \tconstructor() {\n \t\tthis[TYPE] = '';\n\n \t\tconst blobParts = arguments[0];\n \t\tconst options = arguments[1];\n\n \t\tconst buffers = [];\n \t\tlet size = 0;\n\n \t\tif (blobParts) {\n \t\t\tconst a = blobParts;\n \t\t\tconst length = Number(a.length);\n \t\t\tfor (let i = 0; i < length; i++) {\n \t\t\t\tconst element = a[i];\n \t\t\t\tlet buffer;\n \t\t\t\tif (element instanceof Buffer) {\n \t\t\t\t\tbuffer = element;\n \t\t\t\t} else if (ArrayBuffer.isView(element)) {\n \t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n \t\t\t\t} else if (element instanceof ArrayBuffer) {\n \t\t\t\t\tbuffer = Buffer.from(element);\n \t\t\t\t} else if (element instanceof Blob) {\n \t\t\t\t\tbuffer = element[BUFFER];\n \t\t\t\t} else {\n \t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n \t\t\t\t}\n \t\t\t\tsize += buffer.length;\n \t\t\t\tbuffers.push(buffer);\n \t\t\t}\n \t\t}\n\n \t\tthis[BUFFER] = Buffer.concat(buffers);\n\n \t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n \t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n \t\t\tthis[TYPE] = type;\n \t\t}\n \t}\n \tget size() {\n \t\treturn this[BUFFER].length;\n \t}\n \tget type() {\n \t\treturn this[TYPE];\n \t}\n \ttext() {\n \t\treturn Promise.resolve(this[BUFFER].toString());\n \t}\n \tarrayBuffer() {\n \t\tconst buf = this[BUFFER];\n \t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n \t\treturn Promise.resolve(ab);\n \t}\n \tstream() {\n \t\tconst readable = new Readable();\n \t\treadable._read = function () {};\n \t\treadable.push(this[BUFFER]);\n \t\treadable.push(null);\n \t\treturn readable;\n \t}\n \ttoString() {\n \t\treturn '[object Blob]';\n \t}\n \tslice() {\n \t\tconst size = this.size;\n\n \t\tconst start = arguments[0];\n \t\tconst end = arguments[1];\n \t\tlet relativeStart, relativeEnd;\n \t\tif (start === undefined) {\n \t\t\trelativeStart = 0;\n \t\t} else if (start < 0) {\n \t\t\trelativeStart = Math.max(size + start, 0);\n \t\t} else {\n \t\t\trelativeStart = Math.min(start, size);\n \t\t}\n \t\tif (end === undefined) {\n \t\t\trelativeEnd = size;\n \t\t} else if (end < 0) {\n \t\t\trelativeEnd = Math.max(size + end, 0);\n \t\t} else {\n \t\t\trelativeEnd = Math.min(end, size);\n \t\t}\n \t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n \t\tconst buffer = this[BUFFER];\n \t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n \t\tconst blob = new Blob([], { type: arguments[2] });\n \t\tblob[BUFFER] = slicedBuffer;\n \t\treturn blob;\n \t}\n }\n\n Object.defineProperties(Blob.prototype, {\n \tsize: { enumerable: true },\n \ttype: { enumerable: true },\n \tslice: { enumerable: true }\n });\n\n Object.defineProperty(Blob.prototype, Symbol.toStringTag, {\n \tvalue: 'Blob',\n \twritable: false,\n \tenumerable: false,\n \tconfigurable: true\n });\n\n /**\n  * fetch-error.js\n  *\n  * FetchError interface for operational errors\n  */\n\n /**\n  * Create FetchError instance\n  *\n  * @param   String      message      Error message for human\n  * @param   String      type         Error type for machine\n  * @param   String      systemError  For Node.js system error\n  * @return  FetchError\n  */\n function FetchError(message, type, systemError) {\n   Error.call(this, message);\n\n   this.message = message;\n   this.type = type;\n\n   // when err.type is `system`, err.code contains system error code\n   if (systemError) {\n     this.code = this.errno = systemError.code;\n   }\n\n   // hide custom error implementation details from end-users\n   Error.captureStackTrace(this, this.constructor);\n }\n\n FetchError.prototype = Object.create(Error.prototype);\n FetchError.prototype.constructor = FetchError;\n FetchError.prototype.name = 'FetchError';\n\n let convert;\n try {\n \tconvert = require('encoding').convert;\n } catch (e) {}\n\n const INTERNALS = Symbol('Body internals');\n\n // fix an issue where \"PassThrough\" isn't a named export for node <10\n const PassThrough = Stream.PassThrough;\n\n /**\n  * Body mixin\n  *\n  * Ref: https://fetch.spec.whatwg.org/#body\n  *\n  * @param   Stream  body  Readable stream\n  * @param   Object  opts  Response options\n  * @return  Void\n  */\n function Body(body) {\n \tvar _this = this;\n\n \tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n \t    _ref$size = _ref.size;\n\n \tlet size = _ref$size === undefined ? 0 : _ref$size;\n \tvar _ref$timeout = _ref.timeout;\n \tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n \tif (body == null) {\n \t\t// body is undefined or null\n \t\tbody = null;\n \t} else if (isURLSearchParams(body)) {\n \t\t// body is a URLSearchParams\n \t\tbody = Buffer.from(body.toString());\n \t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n \t\t// body is ArrayBuffer\n \t\tbody = Buffer.from(body);\n \t} else if (ArrayBuffer.isView(body)) {\n \t\t// body is ArrayBufferView\n \t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n \t} else if (body instanceof Stream) ; else {\n \t\t// none of the above\n \t\t// coerce to string then buffer\n \t\tbody = Buffer.from(String(body));\n \t}\n \tthis[INTERNALS] = {\n \t\tbody,\n \t\tdisturbed: false,\n \t\terror: null\n \t};\n \tthis.size = size;\n \tthis.timeout = timeout;\n\n \tif (body instanceof Stream) {\n \t\tbody.on('error', function (err) {\n \t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n \t\t\t_this[INTERNALS].error = error;\n \t\t});\n \t}\n }\n\n Body.prototype = {\n \tget body() {\n \t\treturn this[INTERNALS].body;\n \t},\n\n \tget bodyUsed() {\n \t\treturn this[INTERNALS].disturbed;\n \t},\n\n \t/**\n   * Decode response as ArrayBuffer\n   *\n   * @return  Promise\n   */\n \tarrayBuffer() {\n \t\treturn consumeBody.call(this).then(function (buf) {\n \t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n \t\t});\n \t},\n\n \t/**\n   * Return raw response as Blob\n   *\n   * @return Promise\n   */\n \tblob() {\n \t\tlet ct = this.headers && this.headers.get('content-type') || '';\n \t\treturn consumeBody.call(this).then(function (buf) {\n \t\t\treturn Object.assign(\n \t\t\t// Prevent copying\n \t\t\tnew Blob([], {\n \t\t\t\ttype: ct.toLowerCase()\n \t\t\t}), {\n \t\t\t\t[BUFFER]: buf\n \t\t\t});\n \t\t});\n \t},\n\n \t/**\n   * Decode response as json\n   *\n   * @return  Promise\n   */\n \tjson() {\n \t\tvar _this2 = this;\n\n \t\treturn consumeBody.call(this).then(function (buffer) {\n \t\t\ttry {\n \t\t\t\treturn JSON.parse(buffer.toString());\n \t\t\t} catch (err) {\n \t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n \t\t\t}\n \t\t});\n \t},\n\n \t/**\n   * Decode response as text\n   *\n   * @return  Promise\n   */\n \ttext() {\n \t\treturn consumeBody.call(this).then(function (buffer) {\n \t\t\treturn buffer.toString();\n \t\t});\n \t},\n\n \t/**\n   * Decode response as buffer (non-spec api)\n   *\n   * @return  Promise\n   */\n \tbuffer() {\n \t\treturn consumeBody.call(this);\n \t},\n\n \t/**\n   * Decode response as text, while automatically detecting the encoding and\n   * trying to decode to UTF-8 (non-spec api)\n   *\n   * @return  Promise\n   */\n \ttextConverted() {\n \t\tvar _this3 = this;\n\n \t\treturn consumeBody.call(this).then(function (buffer) {\n \t\t\treturn convertBody(buffer, _this3.headers);\n \t\t});\n \t}\n };\n\n // In browsers, all properties are enumerable.\n Object.defineProperties(Body.prototype, {\n \tbody: { enumerable: true },\n \tbodyUsed: { enumerable: true },\n \tarrayBuffer: { enumerable: true },\n \tblob: { enumerable: true },\n \tjson: { enumerable: true },\n \ttext: { enumerable: true }\n });\n\n Body.mixIn = function (proto) {\n \tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n \t\t// istanbul ignore else: future proof\n \t\tif (!(name in proto)) {\n \t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n \t\t\tObject.defineProperty(proto, name, desc);\n \t\t}\n \t}\n };\n\n /**\n  * Consume and convert an entire Body to a Buffer.\n  *\n  * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n  *\n  * @return  Promise\n  */\n function consumeBody() {\n \tvar _this4 = this;\n\n \tif (this[INTERNALS].disturbed) {\n \t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n \t}\n\n \tthis[INTERNALS].disturbed = true;\n\n \tif (this[INTERNALS].error) {\n \t\treturn Body.Promise.reject(this[INTERNALS].error);\n \t}\n\n \tlet body = this.body;\n\n \t// body is null\n \tif (body === null) {\n \t\treturn Body.Promise.resolve(Buffer.alloc(0));\n \t}\n\n \t// body is blob\n \tif (isBlob(body)) {\n \t\tbody = body.stream();\n \t}\n\n \t// body is buffer\n \tif (Buffer.isBuffer(body)) {\n \t\treturn Body.Promise.resolve(body);\n \t}\n\n \t// istanbul ignore if: should never happen\n \tif (!(body instanceof Stream)) {\n \t\treturn Body.Promise.resolve(Buffer.alloc(0));\n \t}\n\n \t// body is stream\n \t// get ready to actually consume the body\n \tlet accum = [];\n \tlet accumBytes = 0;\n \tlet abort = false;\n\n \treturn new Body.Promise(function (resolve, reject) {\n \t\tlet resTimeout;\n\n \t\t// allow timeout on slow response body\n \t\tif (_this4.timeout) {\n \t\t\tresTimeout = setTimeout(function () {\n \t\t\t\tabort = true;\n \t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n \t\t\t}, _this4.timeout);\n \t\t}\n\n \t\t// handle stream errors\n \t\tbody.on('error', function (err) {\n \t\t\tif (err.name === 'AbortError') {\n \t\t\t\t// if the request was aborted, reject with this Error\n \t\t\t\tabort = true;\n \t\t\t\treject(err);\n \t\t\t} else {\n \t\t\t\t// other errors, such as incorrect content-encoding\n \t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n \t\t\t}\n \t\t});\n\n \t\tbody.on('data', function (chunk) {\n \t\t\tif (abort || chunk === null) {\n \t\t\t\treturn;\n \t\t\t}\n\n \t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n \t\t\t\tabort = true;\n \t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n \t\t\t\treturn;\n \t\t\t}\n\n \t\t\taccumBytes += chunk.length;\n \t\t\taccum.push(chunk);\n \t\t});\n\n \t\tbody.on('end', function () {\n \t\t\tif (abort) {\n \t\t\t\treturn;\n \t\t\t}\n\n \t\t\tclearTimeout(resTimeout);\n\n \t\t\ttry {\n \t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n \t\t\t} catch (err) {\n \t\t\t\t// handle streams that have accumulated too much data (issue #414)\n \t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n \t\t\t}\n \t\t});\n \t});\n }\n\n /**\n  * Detect buffer encoding and convert to target encoding\n  * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n  *\n  * @param   Buffer  buffer    Incoming buffer\n  * @param   String  encoding  Target encoding\n  * @return  String\n  */\n function convertBody(buffer, headers) {\n \tif (typeof convert !== 'function') {\n \t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n \t}\n\n \tconst ct = headers.get('content-type');\n \tlet charset = 'utf-8';\n \tlet res, str;\n\n \t// header\n \tif (ct) {\n \t\tres = /charset=([^;]*)/i.exec(ct);\n \t}\n\n \t// no charset in content type, peek at response body for at most 1024 bytes\n \tstr = buffer.slice(0, 1024).toString();\n\n \t// html5\n \tif (!res && str) {\n \t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n \t}\n\n \t// html4\n \tif (!res && str) {\n \t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n \t\tif (!res) {\n \t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n \t\t\tif (res) {\n \t\t\t\tres.pop(); // drop last quote\n \t\t\t}\n \t\t}\n\n \t\tif (res) {\n \t\t\tres = /charset=(.*)/i.exec(res.pop());\n \t\t}\n \t}\n\n \t// xml\n \tif (!res && str) {\n \t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n \t}\n\n \t// found charset\n \tif (res) {\n \t\tcharset = res.pop();\n\n \t\t// prevent decode issues when sites use incorrect encoding\n \t\t// ref: https://hsivonen.fi/encoding-menu/\n \t\tif (charset === 'gb2312' || charset === 'gbk') {\n \t\t\tcharset = 'gb18030';\n \t\t}\n \t}\n\n \t// turn raw buffers into a single utf-8 buffer\n \treturn convert(buffer, 'UTF-8', charset).toString();\n }\n\n /**\n  * Detect a URLSearchParams object\n  * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n  *\n  * @param   Object  obj     Object to detect by type or brand\n  * @return  String\n  */\n function isURLSearchParams(obj) {\n \t// Duck-typing as a necessary condition.\n \tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n \t\treturn false;\n \t}\n\n \t// Brand-checking and more duck-typing as optional condition.\n \treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n }\n\n /**\n  * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n  * @param  {*} obj\n  * @return {boolean}\n  */\n function isBlob(obj) {\n \treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n }\n\n /**\n  * Clone body given Res/Req instance\n  *\n  * @param   Mixed  instance  Response or Request instance\n  * @return  Mixed\n  */\n function clone(instance) {\n \tlet p1, p2;\n \tlet body = instance.body;\n\n \t// don't allow cloning a used body\n \tif (instance.bodyUsed) {\n \t\tthrow new Error('cannot clone body after it is used');\n \t}\n\n \t// check that body is a stream and not form-data object\n \t// note: we can't clone the form-data object without having it as a dependency\n \tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n \t\t// tee instance body\n \t\tp1 = new PassThrough();\n \t\tp2 = new PassThrough();\n \t\tbody.pipe(p1);\n \t\tbody.pipe(p2);\n \t\t// set instance body to teed body and return the other teed body\n \t\tinstance[INTERNALS].body = p1;\n \t\tbody = p2;\n \t}\n\n \treturn body;\n }\n\n /**\n  * Performs the operation \"extract a `Content-Type` value from |object|\" as\n  * specified in the specification:\n  * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n  *\n  * This function assumes that instance.body is present.\n  *\n  * @param   Mixed  instance  Any options.body input\n  */\n function extractContentType(body) {\n \tif (body === null) {\n \t\t// body is null\n \t\treturn null;\n \t} else if (typeof body === 'string') {\n \t\t// body is string\n \t\treturn 'text/plain;charset=UTF-8';\n \t} else if (isURLSearchParams(body)) {\n \t\t// body is a URLSearchParams\n \t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n \t} else if (isBlob(body)) {\n \t\t// body is blob\n \t\treturn body.type || null;\n \t} else if (Buffer.isBuffer(body)) {\n \t\t// body is buffer\n \t\treturn null;\n \t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n \t\t// body is ArrayBuffer\n \t\treturn null;\n \t} else if (ArrayBuffer.isView(body)) {\n \t\t// body is ArrayBufferView\n \t\treturn null;\n \t} else if (typeof body.getBoundary === 'function') {\n \t\t// detect form data input from form-data module\n \t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n \t} else if (body instanceof Stream) {\n \t\t// body is stream\n \t\t// can't really do much about this\n \t\treturn null;\n \t} else {\n \t\t// Body constructor defaults other things to string\n \t\treturn 'text/plain;charset=UTF-8';\n \t}\n }\n\n /**\n  * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n  * For us, we have to explicitly get it with a function.\n  *\n  * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n  *\n  * @param   Body    instance   Instance of Body\n  * @return  Number?            Number of bytes, or null if not possible\n  */\n function getTotalBytes(instance) {\n \tconst body = instance.body;\n\n\n \tif (body === null) {\n \t\t// body is null\n \t\treturn 0;\n \t} else if (isBlob(body)) {\n \t\treturn body.size;\n \t} else if (Buffer.isBuffer(body)) {\n \t\t// body is buffer\n \t\treturn body.length;\n \t} else if (body && typeof body.getLengthSync === 'function') {\n \t\t// detect form data input from form-data module\n \t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n \t\tbody.hasKnownLength && body.hasKnownLength()) {\n \t\t\t// 2.x\n \t\t\treturn body.getLengthSync();\n \t\t}\n \t\treturn null;\n \t} else {\n \t\t// body is stream\n \t\treturn null;\n \t}\n }\n\n /**\n  * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n  *\n  * @param   Body    instance   Instance of Body\n  * @return  Void\n  */\n function writeToStream(dest, instance) {\n \tconst body = instance.body;\n\n\n \tif (body === null) {\n \t\t// body is null\n \t\tdest.end();\n \t} else if (isBlob(body)) {\n \t\tbody.stream().pipe(dest);\n \t} else if (Buffer.isBuffer(body)) {\n \t\t// body is buffer\n \t\tdest.write(body);\n \t\tdest.end();\n \t} else {\n \t\t// body is stream\n \t\tbody.pipe(dest);\n \t}\n }\n\n // expose Promise\n Body.Promise = global.Promise;\n\n /**\n  * headers.js\n  *\n  * Headers class offers convenient helpers\n  */\n\n const invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\n const invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\n function validateName(name) {\n \tname = `${name}`;\n \tif (invalidTokenRegex.test(name) || name === '') {\n \t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n \t}\n }\n\n function validateValue(value) {\n \tvalue = `${value}`;\n \tif (invalidHeaderCharRegex.test(value)) {\n \t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n \t}\n }\n\n /**\n  * Find the key in the map object given a header name.\n  *\n  * Returns undefined if not found.\n  *\n  * @param   String  name  Header name\n  * @return  String|Undefined\n  */\n function find(map, name) {\n \tname = name.toLowerCase();\n \tfor (const key in map) {\n \t\tif (key.toLowerCase() === name) {\n \t\t\treturn key;\n \t\t}\n \t}\n \treturn undefined;\n }\n\n const MAP = Symbol('map');\n class Headers {\n \t/**\n   * Headers class\n   *\n   * @param   Object  headers  Response headers\n   * @return  Void\n   */\n \tconstructor() {\n \t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n \t\tthis[MAP] = Object.create(null);\n\n \t\tif (init instanceof Headers) {\n \t\t\tconst rawHeaders = init.raw();\n \t\t\tconst headerNames = Object.keys(rawHeaders);\n\n \t\t\tfor (const headerName of headerNames) {\n \t\t\t\tfor (const value of rawHeaders[headerName]) {\n \t\t\t\t\tthis.append(headerName, value);\n \t\t\t\t}\n \t\t\t}\n\n \t\t\treturn;\n \t\t}\n\n \t\t// We don't worry about converting prop to ByteString here as append()\n \t\t// will handle it.\n \t\tif (init == null) ; else if (typeof init === 'object') {\n \t\t\tconst method = init[Symbol.iterator];\n \t\t\tif (method != null) {\n \t\t\t\tif (typeof method !== 'function') {\n \t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n \t\t\t\t}\n\n \t\t\t\t// sequence<sequence<ByteString>>\n \t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n \t\t\t\tconst pairs = [];\n \t\t\t\tfor (const pair of init) {\n \t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n \t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n \t\t\t\t\t}\n \t\t\t\t\tpairs.push(Array.from(pair));\n \t\t\t\t}\n\n \t\t\t\tfor (const pair of pairs) {\n \t\t\t\t\tif (pair.length !== 2) {\n \t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n \t\t\t\t\t}\n \t\t\t\t\tthis.append(pair[0], pair[1]);\n \t\t\t\t}\n \t\t\t} else {\n \t\t\t\t// record<ByteString, ByteString>\n \t\t\t\tfor (const key of Object.keys(init)) {\n \t\t\t\t\tconst value = init[key];\n \t\t\t\t\tthis.append(key, value);\n \t\t\t\t}\n \t\t\t}\n \t\t} else {\n \t\t\tthrow new TypeError('Provided initializer must be an object');\n \t\t}\n \t}\n\n \t/**\n   * Return combined header value given name\n   *\n   * @param   String  name  Header name\n   * @return  Mixed\n   */\n \tget(name) {\n \t\tname = `${name}`;\n \t\tvalidateName(name);\n \t\tconst key = find(this[MAP], name);\n \t\tif (key === undefined) {\n \t\t\treturn null;\n \t\t}\n\n \t\treturn this[MAP][key].join(', ');\n \t}\n\n \t/**\n   * Iterate over all headers\n   *\n   * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n   * @param   Boolean   thisArg   `this` context for callback function\n   * @return  Void\n   */\n \tforEach(callback) {\n \t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n \t\tlet pairs = getHeaders(this);\n \t\tlet i = 0;\n \t\twhile (i < pairs.length) {\n \t\t\tvar _pairs$i = pairs[i];\n \t\t\tconst name = _pairs$i[0],\n \t\t\t      value = _pairs$i[1];\n\n \t\t\tcallback.call(thisArg, value, name, this);\n \t\t\tpairs = getHeaders(this);\n \t\t\ti++;\n \t\t}\n \t}\n\n \t/**\n   * Overwrite header values given name\n   *\n   * @param   String  name   Header name\n   * @param   String  value  Header value\n   * @return  Void\n   */\n \tset(name, value) {\n \t\tname = `${name}`;\n \t\tvalue = `${value}`;\n \t\tvalidateName(name);\n \t\tvalidateValue(value);\n \t\tconst key = find(this[MAP], name);\n \t\tthis[MAP][key !== undefined ? key : name] = [value];\n \t}\n\n \t/**\n   * Append a value onto existing header\n   *\n   * @param   String  name   Header name\n   * @param   String  value  Header value\n   * @return  Void\n   */\n \tappend(name, value) {\n \t\tname = `${name}`;\n \t\tvalue = `${value}`;\n \t\tvalidateName(name);\n \t\tvalidateValue(value);\n \t\tconst key = find(this[MAP], name);\n \t\tif (key !== undefined) {\n \t\t\tthis[MAP][key].push(value);\n \t\t} else {\n \t\t\tthis[MAP][name] = [value];\n \t\t}\n \t}\n\n \t/**\n   * Check for header name existence\n   *\n   * @param   String   name  Header name\n   * @return  Boolean\n   */\n \thas(name) {\n \t\tname = `${name}`;\n \t\tvalidateName(name);\n \t\treturn find(this[MAP], name) !== undefined;\n \t}\n\n \t/**\n   * Delete all header values given name\n   *\n   * @param   String  name  Header name\n   * @return  Void\n   */\n \tdelete(name) {\n \t\tname = `${name}`;\n \t\tvalidateName(name);\n \t\tconst key = find(this[MAP], name);\n \t\tif (key !== undefined) {\n \t\t\tdelete this[MAP][key];\n \t\t}\n \t}\n\n \t/**\n   * Return raw headers (non-spec api)\n   *\n   * @return  Object\n   */\n \traw() {\n \t\treturn this[MAP];\n \t}\n\n \t/**\n   * Get an iterator on keys.\n   *\n   * @return  Iterator\n   */\n \tkeys() {\n \t\treturn createHeadersIterator(this, 'key');\n \t}\n\n \t/**\n   * Get an iterator on values.\n   *\n   * @return  Iterator\n   */\n \tvalues() {\n \t\treturn createHeadersIterator(this, 'value');\n \t}\n\n \t/**\n   * Get an iterator on entries.\n   *\n   * This is the default iterator of the Headers object.\n   *\n   * @return  Iterator\n   */\n \t[Symbol.iterator]() {\n \t\treturn createHeadersIterator(this, 'key+value');\n \t}\n }\n Headers.prototype.entries = Headers.prototype[Symbol.iterator];\n\n Object.defineProperty(Headers.prototype, Symbol.toStringTag, {\n \tvalue: 'Headers',\n \twritable: false,\n \tenumerable: false,\n \tconfigurable: true\n });\n\n Object.defineProperties(Headers.prototype, {\n \tget: { enumerable: true },\n \tforEach: { enumerable: true },\n \tset: { enumerable: true },\n \tappend: { enumerable: true },\n \thas: { enumerable: true },\n \tdelete: { enumerable: true },\n \tkeys: { enumerable: true },\n \tvalues: { enumerable: true },\n \tentries: { enumerable: true }\n });\n\n function getHeaders(headers) {\n \tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n \tconst keys = Object.keys(headers[MAP]).sort();\n \treturn keys.map(kind === 'key' ? function (k) {\n \t\treturn k.toLowerCase();\n \t} : kind === 'value' ? function (k) {\n \t\treturn headers[MAP][k].join(', ');\n \t} : function (k) {\n \t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n \t});\n }\n\n const INTERNAL = Symbol('internal');\n\n function createHeadersIterator(target, kind) {\n \tconst iterator = Object.create(HeadersIteratorPrototype);\n \titerator[INTERNAL] = {\n \t\ttarget,\n \t\tkind,\n \t\tindex: 0\n \t};\n \treturn iterator;\n }\n\n const HeadersIteratorPrototype = Object.setPrototypeOf({\n \tnext() {\n \t\t// istanbul ignore if\n \t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n \t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n \t\t}\n\n \t\tvar _INTERNAL = this[INTERNAL];\n \t\tconst target = _INTERNAL.target,\n \t\t      kind = _INTERNAL.kind,\n \t\t      index = _INTERNAL.index;\n\n \t\tconst values = getHeaders(target, kind);\n \t\tconst len = values.length;\n \t\tif (index >= len) {\n \t\t\treturn {\n \t\t\t\tvalue: undefined,\n \t\t\t\tdone: true\n \t\t\t};\n \t\t}\n\n \t\tthis[INTERNAL].index = index + 1;\n\n \t\treturn {\n \t\t\tvalue: values[index],\n \t\t\tdone: false\n \t\t};\n \t}\n }, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\n Object.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n \tvalue: 'HeadersIterator',\n \twritable: false,\n \tenumerable: false,\n \tconfigurable: true\n });\n\n /**\n  * Export the Headers object in a form that Node.js can consume.\n  *\n  * @param   Headers  headers\n  * @return  Object\n  */\n function exportNodeCompatibleHeaders(headers) {\n \tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n \t// http.request() only supports string as Host header. This hack makes\n \t// specifying custom Host header possible.\n \tconst hostHeaderKey = find(headers[MAP], 'Host');\n \tif (hostHeaderKey !== undefined) {\n \t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n \t}\n\n \treturn obj;\n }\n\n /**\n  * Create a Headers object from an object of headers, ignoring those that do\n  * not conform to HTTP grammar productions.\n  *\n  * @param   Object  obj  Object of headers\n  * @return  Headers\n  */\n function createHeadersLenient(obj) {\n \tconst headers = new Headers();\n \tfor (const name of Object.keys(obj)) {\n \t\tif (invalidTokenRegex.test(name)) {\n \t\t\tcontinue;\n \t\t}\n \t\tif (Array.isArray(obj[name])) {\n \t\t\tfor (const val of obj[name]) {\n \t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n \t\t\t\t\tcontinue;\n \t\t\t\t}\n \t\t\t\tif (headers[MAP][name] === undefined) {\n \t\t\t\t\theaders[MAP][name] = [val];\n \t\t\t\t} else {\n \t\t\t\t\theaders[MAP][name].push(val);\n \t\t\t\t}\n \t\t\t}\n \t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n \t\t\theaders[MAP][name] = [obj[name]];\n \t\t}\n \t}\n \treturn headers;\n }\n\n const INTERNALS$1 = Symbol('Response internals');\n\n // fix an issue where \"STATUS_CODES\" aren't a named export for node <10\n const STATUS_CODES = http.STATUS_CODES;\n\n /**\n  * Response class\n  *\n  * @param   Stream  body  Readable stream\n  * @param   Object  opts  Response options\n  * @return  Void\n  */\n class Response {\n \tconstructor() {\n \t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n \t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n \t\tBody.call(this, body, opts);\n\n \t\tconst status = opts.status || 200;\n \t\tconst headers = new Headers(opts.headers);\n\n \t\tif (body != null && !headers.has('Content-Type')) {\n \t\t\tconst contentType = extractContentType(body);\n \t\t\tif (contentType) {\n \t\t\t\theaders.append('Content-Type', contentType);\n \t\t\t}\n \t\t}\n\n \t\tthis[INTERNALS$1] = {\n \t\t\turl: opts.url,\n \t\t\tstatus,\n \t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n \t\t\theaders,\n \t\t\tcounter: opts.counter\n \t\t};\n \t}\n\n \tget url() {\n \t\treturn this[INTERNALS$1].url || '';\n \t}\n\n \tget status() {\n \t\treturn this[INTERNALS$1].status;\n \t}\n\n \t/**\n   * Convenience property representing if the request ended normally\n   */\n \tget ok() {\n \t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n \t}\n\n \tget redirected() {\n \t\treturn this[INTERNALS$1].counter > 0;\n \t}\n\n \tget statusText() {\n \t\treturn this[INTERNALS$1].statusText;\n \t}\n\n \tget headers() {\n \t\treturn this[INTERNALS$1].headers;\n \t}\n\n \t/**\n   * Clone this response\n   *\n   * @return  Response\n   */\n \tclone() {\n \t\treturn new Response(clone(this), {\n \t\t\turl: this.url,\n \t\t\tstatus: this.status,\n \t\t\tstatusText: this.statusText,\n \t\t\theaders: this.headers,\n \t\t\tok: this.ok,\n \t\t\tredirected: this.redirected\n \t\t});\n \t}\n }\n\n Body.mixIn(Response.prototype);\n\n Object.defineProperties(Response.prototype, {\n \turl: { enumerable: true },\n \tstatus: { enumerable: true },\n \tok: { enumerable: true },\n \tredirected: { enumerable: true },\n \tstatusText: { enumerable: true },\n \theaders: { enumerable: true },\n \tclone: { enumerable: true }\n });\n\n Object.defineProperty(Response.prototype, Symbol.toStringTag, {\n \tvalue: 'Response',\n \twritable: false,\n \tenumerable: false,\n \tconfigurable: true\n });\n\n const INTERNALS$2 = Symbol('Request internals');\n const URL = Url.URL || whatwgUrl.URL;\n\n // fix an issue where \"format\", \"parse\" aren't a named export for node <10\n const parse_url = Url.parse;\n const format_url = Url.format;\n\n /**\n  * Wrapper around `new URL` to handle arbitrary URLs\n  *\n  * @param  {string} urlStr\n  * @return {void}\n  */\n function parseURL(urlStr) {\n \t/*\n  \tCheck whether the URL is absolute or not\n  \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n  \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n  */\n \tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n \t\turlStr = new URL(urlStr).toString();\n \t}\n\n \t// Fallback to old implementation for arbitrary URLs\n \treturn parse_url(urlStr);\n }\n\n const streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n /**\n  * Check if a value is an instance of Request.\n  *\n  * @param   Mixed   input\n  * @return  Boolean\n  */\n function isRequest(input) {\n \treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n }\n\n function isAbortSignal(signal) {\n \tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n \treturn !!(proto && proto.constructor.name === 'AbortSignal');\n }\n\n /**\n  * Request class\n  *\n  * @param   Mixed   input  Url or Request instance\n  * @param   Object  init   Custom options\n  * @return  Void\n  */\n class Request {\n \tconstructor(input) {\n \t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n \t\tlet parsedURL;\n\n \t\t// normalize input\n \t\tif (!isRequest(input)) {\n \t\t\tif (input && input.href) {\n \t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n \t\t\t\t// will fall into this branch also (since their `toString()` will return\n \t\t\t\t// `href` property anyway)\n \t\t\t\tparsedURL = parseURL(input.href);\n \t\t\t} else {\n \t\t\t\t// coerce input to a string before attempting to parse\n \t\t\t\tparsedURL = parseURL(`${input}`);\n \t\t\t}\n \t\t\tinput = {};\n \t\t} else {\n \t\t\tparsedURL = parseURL(input.url);\n \t\t}\n\n \t\tlet method = init.method || input.method || 'GET';\n \t\tmethod = method.toUpperCase();\n\n \t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n \t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n \t\t}\n\n \t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n \t\tBody.call(this, inputBody, {\n \t\t\ttimeout: init.timeout || input.timeout || 0,\n \t\t\tsize: init.size || input.size || 0\n \t\t});\n\n \t\tconst headers = new Headers(init.headers || input.headers || {});\n\n \t\tif (inputBody != null && !headers.has('Content-Type')) {\n \t\t\tconst contentType = extractContentType(inputBody);\n \t\t\tif (contentType) {\n \t\t\t\theaders.append('Content-Type', contentType);\n \t\t\t}\n \t\t}\n\n \t\tlet signal = isRequest(input) ? input.signal : null;\n \t\tif ('signal' in init) signal = init.signal;\n\n \t\tif (signal != null && !isAbortSignal(signal)) {\n \t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n \t\t}\n\n \t\tthis[INTERNALS$2] = {\n \t\t\tmethod,\n \t\t\tredirect: init.redirect || input.redirect || 'follow',\n \t\t\theaders,\n \t\t\tparsedURL,\n \t\t\tsignal\n \t\t};\n\n \t\t// node-fetch-only options\n \t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n \t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n \t\tthis.counter = init.counter || input.counter || 0;\n \t\tthis.agent = init.agent || input.agent;\n \t}\n\n \tget method() {\n \t\treturn this[INTERNALS$2].method;\n \t}\n\n \tget url() {\n \t\treturn format_url(this[INTERNALS$2].parsedURL);\n \t}\n\n \tget headers() {\n \t\treturn this[INTERNALS$2].headers;\n \t}\n\n \tget redirect() {\n \t\treturn this[INTERNALS$2].redirect;\n \t}\n\n \tget signal() {\n \t\treturn this[INTERNALS$2].signal;\n \t}\n\n \t/**\n   * Clone this request\n   *\n   * @return  Request\n   */\n \tclone() {\n \t\treturn new Request(this);\n \t}\n }\n\n Body.mixIn(Request.prototype);\n\n Object.defineProperty(Request.prototype, Symbol.toStringTag, {\n \tvalue: 'Request',\n \twritable: false,\n \tenumerable: false,\n \tconfigurable: true\n });\n\n Object.defineProperties(Request.prototype, {\n \tmethod: { enumerable: true },\n \turl: { enumerable: true },\n \theaders: { enumerable: true },\n \tredirect: { enumerable: true },\n \tclone: { enumerable: true },\n \tsignal: { enumerable: true }\n });\n\n /**\n  * Convert a Request to Node.js http request options.\n  *\n  * @param   Request  A Request instance\n  * @return  Object   The options object to be passed to http.request\n  */\n function getNodeRequestOptions(request) {\n \tconst parsedURL = request[INTERNALS$2].parsedURL;\n \tconst headers = new Headers(request[INTERNALS$2].headers);\n\n \t// fetch step 1.3\n \tif (!headers.has('Accept')) {\n \t\theaders.set('Accept', '*/*');\n \t}\n\n \t// Basic fetch\n \tif (!parsedURL.protocol || !parsedURL.hostname) {\n \t\tthrow new TypeError('Only absolute URLs are supported');\n \t}\n\n \tif (!/^https?:$/.test(parsedURL.protocol)) {\n \t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n \t}\n\n \tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n \t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n \t}\n\n \t// HTTP-network-or-cache fetch steps 2.4-2.7\n \tlet contentLengthValue = null;\n \tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n \t\tcontentLengthValue = '0';\n \t}\n \tif (request.body != null) {\n \t\tconst totalBytes = getTotalBytes(request);\n \t\tif (typeof totalBytes === 'number') {\n \t\t\tcontentLengthValue = String(totalBytes);\n \t\t}\n \t}\n \tif (contentLengthValue) {\n \t\theaders.set('Content-Length', contentLengthValue);\n \t}\n\n \t// HTTP-network-or-cache fetch step 2.11\n \tif (!headers.has('User-Agent')) {\n \t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n \t}\n\n \t// HTTP-network-or-cache fetch step 2.15\n \tif (request.compress && !headers.has('Accept-Encoding')) {\n \t\theaders.set('Accept-Encoding', 'gzip,deflate');\n \t}\n\n \tlet agent = request.agent;\n \tif (typeof agent === 'function') {\n \t\tagent = agent(parsedURL);\n \t}\n\n \tif (!headers.has('Connection') && !agent) {\n \t\theaders.set('Connection', 'close');\n \t}\n\n \t// HTTP-network fetch step 4.2\n \t// chunked encoding is handled by Node.js\n\n \treturn Object.assign({}, parsedURL, {\n \t\tmethod: request.method,\n \t\theaders: exportNodeCompatibleHeaders(headers),\n \t\tagent\n \t});\n }\n\n /**\n  * abort-error.js\n  *\n  * AbortError interface for cancelled requests\n  */\n\n /**\n  * Create AbortError instance\n  *\n  * @param   String      message      Error message for human\n  * @return  AbortError\n  */\n function AbortError(message) {\n   Error.call(this, message);\n\n   this.type = 'aborted';\n   this.message = message;\n\n   // hide custom error implementation details from end-users\n   Error.captureStackTrace(this, this.constructor);\n }\n\n AbortError.prototype = Object.create(Error.prototype);\n AbortError.prototype.constructor = AbortError;\n AbortError.prototype.name = 'AbortError';\n\n const URL$1 = Url.URL || whatwgUrl.URL;\n\n // fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\n const PassThrough$1 = Stream.PassThrough;\n\n const isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n \tconst orig = new URL$1(original).hostname;\n \tconst dest = new URL$1(destination).hostname;\n\n \treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n };\n\n /**\n  * Fetch function\n  *\n  * @param   Mixed    url   Absolute url or Request instance\n  * @param   Object   opts  Fetch options\n  * @return  Promise\n  */\n function fetch(url, opts) {\n\n \t// allow custom promise\n \tif (!fetch.Promise) {\n \t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n \t}\n\n \tBody.Promise = fetch.Promise;\n\n \t// wrap http.request into fetch\n \treturn new fetch.Promise(function (resolve, reject) {\n \t\t// build request object\n \t\tconst request = new Request(url, opts);\n \t\tconst options = getNodeRequestOptions(request);\n\n \t\tconst send = (options.protocol === 'https:' ? https : http).request;\n \t\tconst signal = request.signal;\n\n \t\tlet response = null;\n\n \t\tconst abort = function abort() {\n \t\t\tlet error = new AbortError('The user aborted a request.');\n \t\t\treject(error);\n \t\t\tif (request.body && request.body instanceof Stream.Readable) {\n \t\t\t\trequest.body.destroy(error);\n \t\t\t}\n \t\t\tif (!response || !response.body) return;\n \t\t\tresponse.body.emit('error', error);\n \t\t};\n\n \t\tif (signal && signal.aborted) {\n \t\t\tabort();\n \t\t\treturn;\n \t\t}\n\n \t\tconst abortAndFinalize = function abortAndFinalize() {\n \t\t\tabort();\n \t\t\tfinalize();\n \t\t};\n\n \t\t// send request\n \t\tconst req = send(options);\n \t\tlet reqTimeout;\n\n \t\tif (signal) {\n \t\t\tsignal.addEventListener('abort', abortAndFinalize);\n \t\t}\n\n \t\tfunction finalize() {\n \t\t\treq.abort();\n \t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n \t\t\tclearTimeout(reqTimeout);\n \t\t}\n\n \t\tif (request.timeout) {\n \t\t\treq.once('socket', function (socket) {\n \t\t\t\treqTimeout = setTimeout(function () {\n \t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n \t\t\t\t\tfinalize();\n \t\t\t\t}, request.timeout);\n \t\t\t});\n \t\t}\n\n \t\treq.on('error', function (err) {\n \t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n \t\t\tfinalize();\n \t\t});\n\n \t\treq.on('response', function (res) {\n \t\t\tclearTimeout(reqTimeout);\n\n \t\t\tconst headers = createHeadersLenient(res.headers);\n\n \t\t\t// HTTP fetch step 5\n \t\t\tif (fetch.isRedirect(res.statusCode)) {\n \t\t\t\t// HTTP fetch step 5.2\n \t\t\t\tconst location = headers.get('Location');\n\n \t\t\t\t// HTTP fetch step 5.3\n \t\t\t\tlet locationURL = null;\n \t\t\t\ttry {\n \t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n \t\t\t\t} catch (err) {\n \t\t\t\t\t// error here can only be invalid URL in Location: header\n \t\t\t\t\t// do not throw when options.redirect == manual\n \t\t\t\t\t// let the user extract the errorneous redirect URL\n \t\t\t\t\tif (request.redirect !== 'manual') {\n \t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n \t\t\t\t\t\tfinalize();\n \t\t\t\t\t\treturn;\n \t\t\t\t\t}\n \t\t\t\t}\n\n \t\t\t\t// HTTP fetch step 5.5\n \t\t\t\tswitch (request.redirect) {\n \t\t\t\t\tcase 'error':\n \t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n \t\t\t\t\t\tfinalize();\n \t\t\t\t\t\treturn;\n \t\t\t\t\tcase 'manual':\n \t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n \t\t\t\t\t\tif (locationURL !== null) {\n \t\t\t\t\t\t\t// handle corrupted header\n \t\t\t\t\t\t\ttry {\n \t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n \t\t\t\t\t\t\t} catch (err) {\n \t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n \t\t\t\t\t\t\t\treject(err);\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase 'follow':\n \t\t\t\t\t\t// HTTP-redirect fetch step 2\n \t\t\t\t\t\tif (locationURL === null) {\n \t\t\t\t\t\t\tbreak;\n \t\t\t\t\t\t}\n\n \t\t\t\t\t\t// HTTP-redirect fetch step 5\n \t\t\t\t\t\tif (request.counter >= request.follow) {\n \t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n \t\t\t\t\t\t\tfinalize();\n \t\t\t\t\t\t\treturn;\n \t\t\t\t\t\t}\n\n \t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n \t\t\t\t\t\t// Create a new Request object.\n \t\t\t\t\t\tconst requestOpts = {\n \t\t\t\t\t\t\theaders: new Headers(request.headers),\n \t\t\t\t\t\t\tfollow: request.follow,\n \t\t\t\t\t\t\tcounter: request.counter + 1,\n \t\t\t\t\t\t\tagent: request.agent,\n \t\t\t\t\t\t\tcompress: request.compress,\n \t\t\t\t\t\t\tmethod: request.method,\n \t\t\t\t\t\t\tbody: request.body,\n \t\t\t\t\t\t\tsignal: request.signal,\n \t\t\t\t\t\t\ttimeout: request.timeout,\n \t\t\t\t\t\t\tsize: request.size\n \t\t\t\t\t\t};\n\n \t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL)) {\n \t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n \t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n\n \t\t\t\t\t\t// HTTP-redirect fetch step 9\n \t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n \t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n \t\t\t\t\t\t\tfinalize();\n \t\t\t\t\t\t\treturn;\n \t\t\t\t\t\t}\n\n \t\t\t\t\t\t// HTTP-redirect fetch step 11\n \t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n \t\t\t\t\t\t\trequestOpts.method = 'GET';\n \t\t\t\t\t\t\trequestOpts.body = undefined;\n \t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n \t\t\t\t\t\t}\n\n \t\t\t\t\t\t// HTTP-redirect fetch step 15\n \t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n \t\t\t\t\t\tfinalize();\n \t\t\t\t\t\treturn;\n \t\t\t\t}\n \t\t\t}\n\n \t\t\t// prepare response\n \t\t\tres.once('end', function () {\n \t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n \t\t\t});\n \t\t\tlet body = res.pipe(new PassThrough$1());\n\n \t\t\tconst response_options = {\n \t\t\t\turl: request.url,\n \t\t\t\tstatus: res.statusCode,\n \t\t\t\tstatusText: res.statusMessage,\n \t\t\t\theaders: headers,\n \t\t\t\tsize: request.size,\n \t\t\t\ttimeout: request.timeout,\n \t\t\t\tcounter: request.counter\n \t\t\t};\n\n \t\t\t// HTTP-network fetch step 12.1.1.3\n \t\t\tconst codings = headers.get('Content-Encoding');\n\n \t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n \t\t\t// in following scenarios we ignore compression support\n \t\t\t// 1. compression support is disabled\n \t\t\t// 2. HEAD request\n \t\t\t// 3. no Content-Encoding header\n \t\t\t// 4. no content response (204)\n \t\t\t// 5. content not modified response (304)\n \t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n \t\t\t\tresponse = new Response(body, response_options);\n \t\t\t\tresolve(response);\n \t\t\t\treturn;\n \t\t\t}\n\n \t\t\t// For Node v6+\n \t\t\t// Be less strict when decoding compressed responses, since sometimes\n \t\t\t// servers send slightly invalid responses that are still accepted\n \t\t\t// by common browsers.\n \t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n \t\t\tconst zlibOptions = {\n \t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n \t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n \t\t\t};\n\n \t\t\t// for gzip\n \t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n \t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n \t\t\t\tresponse = new Response(body, response_options);\n \t\t\t\tresolve(response);\n \t\t\t\treturn;\n \t\t\t}\n\n \t\t\t// for deflate\n \t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n \t\t\t\t// handle the infamous raw deflate response from old servers\n \t\t\t\t// a hack for old IIS and Apache servers\n \t\t\t\tconst raw = res.pipe(new PassThrough$1());\n \t\t\t\traw.once('data', function (chunk) {\n \t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n \t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n \t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n \t\t\t\t\t} else {\n \t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n \t\t\t\t\t}\n \t\t\t\t\tresponse = new Response(body, response_options);\n \t\t\t\t\tresolve(response);\n \t\t\t\t});\n \t\t\t\treturn;\n \t\t\t}\n\n \t\t\t// for br\n \t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n \t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n \t\t\t\tresponse = new Response(body, response_options);\n \t\t\t\tresolve(response);\n \t\t\t\treturn;\n \t\t\t}\n\n \t\t\t// otherwise, use response as-is\n \t\t\tresponse = new Response(body, response_options);\n \t\t\tresolve(response);\n \t\t});\n\n \t\twriteToStream(req, request);\n \t});\n }\n /**\n  * Redirect code matching\n  *\n  * @param   Number   code  Status code\n  * @return  Boolean\n  */\n fetch.isRedirect = function (code) {\n \treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n };\n\n // expose Promise\n fetch.Promise = global.Promise;\n\n module.exports = exports = fetch;\n Object.defineProperty(exports, \"__esModule\", { value: true });\n exports.default = exports;\n exports.Headers = Headers;\n exports.Request = Request;\n exports.Response = Response;\n exports.FetchError = FetchError;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n_Headers = module.exports.Headers;\n_Request = module.exports.Request;\n_Response = module.exports.Response;\n_FetchError = module.exports.FetchError;\n\n}, () => ({\n  'stream': _req,\n  'http': _req0,\n  'url': _req1,\n  'whatwg-url': _req2,\n  'https': _req3,\n  'zlib': _req4,\n  'encoding': _req5,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}