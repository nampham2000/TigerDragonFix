{"version":3,"sources":["file:///Users/waostudio/Desktop/Fix4/node_modules/form-data/lib/form_data.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","_req7","_req8","url","define","exports","require","module","__filename","__dirname","CombinedStream","util","path","http","https","parseUrl","parse","fs","mime","asynckit","populate","FormData","inherits","options","_overheadLength","_valueLength","_valuesToMeasure","call","option","LINE_BREAK","DEFAULT_CONTENT_TYPE","prototype","append","field","value","filename","bind","isArray","_error","Error","header","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","Buffer","isBuffer","length","byteLength","readable","hasOwnProperty","push","_lengthRetriever","callback","end","undefined","Infinity","start","stat","err","fileSize","size","headers","on","response","pause","resume","contentDisposition","_getContentDisposition","contentType","_getContentType","contents","concat","prop","Array","join","getBoundary","filepath","normalize","replace","name","basename","client","_httpMessage","lookup","next","lastPart","_streams","_lastBoundary","getHeaders","userHeaders","formHeaders","toLowerCase","_boundary","_generateBoundary","getBuffer","dataBuffer","alloc","boundary","i","len","from","substring","Math","floor","random","toString","getLengthSync","hasKnownLength","getLength","cb","process","nextTick","parallel","values","forEach","submit","params","request","defaults","method","port","pathname","host","hostname","protocol","setHeader","pipe","error","emit","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from 'combined-stream';\nimport { __cjsMetaURL as _req0} from 'util';\nimport { __cjsMetaURL as _req1} from 'path';\nimport { __cjsMetaURL as _req2} from 'http';\nimport { __cjsMetaURL as _req3} from 'https';\nimport { __cjsMetaURL as _req4} from 'url';\nimport { __cjsMetaURL as _req5} from 'fs';\nimport { __cjsMetaURL as _req6} from 'mime-types';\nimport { __cjsMetaURL as _req7} from 'asynckit';\nimport { __cjsMetaURL as _req8} from './populate.js';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n var CombinedStream = require('combined-stream');\n var util = require('util');\n var path = require('path');\n var http = require('http');\n var https = require('https');\n var parseUrl = require('url').parse;\n var fs = require('fs');\n var mime = require('mime-types');\n var asynckit = require('asynckit');\n var populate = require('./populate.js');\n\n // Public API\n module.exports = FormData;\n\n // make it a Stream\n util.inherits(FormData, CombinedStream);\n\n /**\n  * Create readable \"multipart/form-data\" streams.\n  * Can be used to submit forms\n  * and file uploads to other web applications.\n  *\n  * @constructor\n  * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n  */\n function FormData(options) {\n   if (!(this instanceof FormData)) {\n     return new FormData();\n   }\n\n   this._overheadLength = 0;\n   this._valueLength = 0;\n   this._valuesToMeasure = [];\n\n   CombinedStream.call(this);\n\n   options = options || {};\n   for (var option in options) {\n     this[option] = options[option];\n   }\n }\n\n FormData.LINE_BREAK = '\\r\\n';\n FormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\n FormData.prototype.append = function(field, value, options) {\n\n   options = options || {};\n\n   // allow filename as single option\n   if (typeof options == 'string') {\n     options = {filename: options};\n   }\n\n   var append = CombinedStream.prototype.append.bind(this);\n\n   // all that streamy business can't handle numbers\n   if (typeof value == 'number') {\n     value = '' + value;\n   }\n\n   // https://github.com/felixge/node-form-data/issues/38\n   if (util.isArray(value)) {\n     // Please convert your array into string\n     // the way web server expects it\n     this._error(new Error('Arrays are not supported.'));\n     return;\n   }\n\n   var header = this._multiPartHeader(field, value, options);\n   var footer = this._multiPartFooter();\n\n   append(header);\n   append(value);\n   append(footer);\n\n   // pass along options.knownLength\n   this._trackLength(header, value, options);\n };\n\n FormData.prototype._trackLength = function(header, value, options) {\n   var valueLength = 0;\n\n   // used w/ getLengthSync(), when length is known.\n   // e.g. for streaming directly from a remote server,\n   // w/ a known file a size, and not wanting to wait for\n   // incoming file to finish to get its size.\n   if (options.knownLength != null) {\n     valueLength += +options.knownLength;\n   } else if (Buffer.isBuffer(value)) {\n     valueLength = value.length;\n   } else if (typeof value === 'string') {\n     valueLength = Buffer.byteLength(value);\n   }\n\n   this._valueLength += valueLength;\n\n   // @check why add CRLF? does this account for custom/multiple CRLFs?\n   this._overheadLength +=\n     Buffer.byteLength(header) +\n     FormData.LINE_BREAK.length;\n\n   // empty or either doesn't have path or not an http response\n   if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) )) {\n     return;\n   }\n\n   // no need to bother with the length\n   if (!options.knownLength) {\n     this._valuesToMeasure.push(value);\n   }\n };\n\n FormData.prototype._lengthRetriever = function(value, callback) {\n\n   if (value.hasOwnProperty('fd')) {\n\n     // take read range into a account\n     // `end` = Infinity â€“> read file till the end\n     //\n     // TODO: Looks like there is bug in Node fs.createReadStream\n     // it doesn't respect `end` options without `start` options\n     // Fix it when node fixes it.\n     // https://github.com/joyent/node/issues/7819\n     if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n       // when end specified\n       // no need to calculate range\n       // inclusive, starts with 0\n       callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n     // not that fast snoopy\n     } else {\n       // still need to fetch file size from fs\n       fs.stat(value.path, function(err, stat) {\n\n         var fileSize;\n\n         if (err) {\n           callback(err);\n           return;\n         }\n\n         // update final size based on the range options\n         fileSize = stat.size - (value.start ? value.start : 0);\n         callback(null, fileSize);\n       });\n     }\n\n   // or http response\n   } else if (value.hasOwnProperty('httpVersion')) {\n     callback(null, +value.headers['content-length']);\n\n   // or request stream http://github.com/mikeal/request\n   } else if (value.hasOwnProperty('httpModule')) {\n     // wait till response come back\n     value.on('response', function(response) {\n       value.pause();\n       callback(null, +response.headers['content-length']);\n     });\n     value.resume();\n\n   // something else\n   } else {\n     callback('Unknown stream');\n   }\n };\n\n FormData.prototype._multiPartHeader = function(field, value, options) {\n   // custom header specified (as string)?\n   // it becomes responsible for boundary\n   // (e.g. to handle extra CRLFs on .NET servers)\n   if (typeof options.header == 'string') {\n     return options.header;\n   }\n\n   var contentDisposition = this._getContentDisposition(value, options);\n   var contentType = this._getContentType(value, options);\n\n   var contents = '';\n   var headers  = {\n     // add custom disposition as third element or keep it two elements if not\n     'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n     // if no content type. allow it to be empty array\n     'Content-Type': [].concat(contentType || [])\n   };\n\n   // allow custom headers.\n   if (typeof options.header == 'object') {\n     populate(headers, options.header);\n   }\n\n   var header;\n   for (var prop in headers) {\n     if (!headers.hasOwnProperty(prop)) continue;\n     header = headers[prop];\n\n     // skip nullish headers.\n     if (header == null) {\n       continue;\n     }\n\n     // convert all headers to arrays.\n     if (!Array.isArray(header)) {\n       header = [header];\n     }\n\n     // add non-empty headers.\n     if (header.length) {\n       contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n     }\n   }\n\n   return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n };\n\n FormData.prototype._getContentDisposition = function(value, options) {\n\n   var filename\n     , contentDisposition\n     ;\n\n   if (typeof options.filepath === 'string') {\n     // custom filepath for relative paths\n     filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n   } else if (options.filename || value.name || value.path) {\n     // custom filename take precedence\n     // formidable and the browser add a name property\n     // fs- and request- streams have path property\n     filename = path.basename(options.filename || value.name || value.path);\n   } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n     // or try http response\n     filename = path.basename(value.client._httpMessage.path || '');\n   }\n\n   if (filename) {\n     contentDisposition = 'filename=\"' + filename + '\"';\n   }\n\n   return contentDisposition;\n };\n\n FormData.prototype._getContentType = function(value, options) {\n\n   // use custom content-type above all\n   var contentType = options.contentType;\n\n   // or try `name` from formidable, browser\n   if (!contentType && value.name) {\n     contentType = mime.lookup(value.name);\n   }\n\n   // or try `path` from fs-, request- streams\n   if (!contentType && value.path) {\n     contentType = mime.lookup(value.path);\n   }\n\n   // or if it's http-reponse\n   if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n     contentType = value.headers['content-type'];\n   }\n\n   // or guess it from the filepath or filename\n   if (!contentType && (options.filepath || options.filename)) {\n     contentType = mime.lookup(options.filepath || options.filename);\n   }\n\n   // fallback to the default content type if `value` is not simple value\n   if (!contentType && typeof value == 'object') {\n     contentType = FormData.DEFAULT_CONTENT_TYPE;\n   }\n\n   return contentType;\n };\n\n FormData.prototype._multiPartFooter = function() {\n   return function(next) {\n     var footer = FormData.LINE_BREAK;\n\n     var lastPart = (this._streams.length === 0);\n     if (lastPart) {\n       footer += this._lastBoundary();\n     }\n\n     next(footer);\n   }.bind(this);\n };\n\n FormData.prototype._lastBoundary = function() {\n   return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n };\n\n FormData.prototype.getHeaders = function(userHeaders) {\n   var header;\n   var formHeaders = {\n     'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n   };\n\n   for (header in userHeaders) {\n     if (userHeaders.hasOwnProperty(header)) {\n       formHeaders[header.toLowerCase()] = userHeaders[header];\n     }\n   }\n\n   return formHeaders;\n };\n\n FormData.prototype.getBoundary = function() {\n   if (!this._boundary) {\n     this._generateBoundary();\n   }\n\n   return this._boundary;\n };\n\n FormData.prototype.getBuffer = function() {\n   var dataBuffer = new Buffer.alloc( 0 );\n   var boundary = this.getBoundary();\n\n   // Create the form content. Add Line breaks to the end of data.\n   for (var i = 0, len = this._streams.length; i < len; i++) {\n     if (typeof this._streams[i] !== 'function') {\n\n       // Add content to the buffer.\n       if(Buffer.isBuffer(this._streams[i])) {\n         dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n       }else {\n         dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n       }\n\n       // Add break after content.\n       if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n         dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n       }\n     }\n   }\n\n   // Add the footer and return the Buffer object.\n   return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n };\n\n FormData.prototype._generateBoundary = function() {\n   // This generates a 50 character boundary similar to those used by Firefox.\n   // They are optimized for boyer-moore parsing.\n   var boundary = '--------------------------';\n   for (var i = 0; i < 24; i++) {\n     boundary += Math.floor(Math.random() * 10).toString(16);\n   }\n\n   this._boundary = boundary;\n };\n\n // Note: getLengthSync DOESN'T calculate streams length\n // As workaround one can calculate file size manually\n // and add it as knownLength option\n FormData.prototype.getLengthSync = function() {\n   var knownLength = this._overheadLength + this._valueLength;\n\n   // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n   // so it basically checks if there is any value added to the form\n   if (this._streams.length) {\n     knownLength += this._lastBoundary().length;\n   }\n\n   // https://github.com/form-data/form-data/issues/40\n   if (!this.hasKnownLength()) {\n     // Some async length retrievers are present\n     // therefore synchronous length calculation is false.\n     // Please use getLength(callback) to get proper length\n     this._error(new Error('Cannot calculate proper length in synchronous way.'));\n   }\n\n   return knownLength;\n };\n\n // Public API to check if length of added values is known\n // https://github.com/form-data/form-data/issues/196\n // https://github.com/form-data/form-data/issues/262\n FormData.prototype.hasKnownLength = function() {\n   var hasKnownLength = true;\n\n   if (this._valuesToMeasure.length) {\n     hasKnownLength = false;\n   }\n\n   return hasKnownLength;\n };\n\n FormData.prototype.getLength = function(cb) {\n   var knownLength = this._overheadLength + this._valueLength;\n\n   if (this._streams.length) {\n     knownLength += this._lastBoundary().length;\n   }\n\n   if (!this._valuesToMeasure.length) {\n     process.nextTick(cb.bind(this, null, knownLength));\n     return;\n   }\n\n   asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n     if (err) {\n       cb(err);\n       return;\n     }\n\n     values.forEach(function(length) {\n       knownLength += length;\n     });\n\n     cb(null, knownLength);\n   });\n };\n\n FormData.prototype.submit = function(params, cb) {\n   var request\n     , options\n     , defaults = {method: 'post'}\n     ;\n\n   // parse provided url if it's string\n   // or treat it as options object\n   if (typeof params == 'string') {\n\n     params = parseUrl(params);\n     options = populate({\n       port: params.port,\n       path: params.pathname,\n       host: params.hostname,\n       protocol: params.protocol\n     }, defaults);\n\n   // use custom params\n   } else {\n\n     options = populate(params, defaults);\n     // if no port provided use default one\n     if (!options.port) {\n       options.port = options.protocol == 'https:' ? 443 : 80;\n     }\n   }\n\n   // put that good code in getHeaders to some use\n   options.headers = this.getHeaders(params.headers);\n\n   // https if specified, fallback to http in any other case\n   if (options.protocol == 'https:') {\n     request = https.request(options);\n   } else {\n     request = http.request(options);\n   }\n\n   // get content length and fire away\n   this.getLength(function(err, length) {\n     if (err) {\n       this._error(err);\n       return;\n     }\n\n     // add content length\n     request.setHeader('Content-Length', length);\n\n     this.pipe(request);\n     if (cb) {\n       request.on('error', cb);\n       request.on('response', cb.bind(this, null));\n     }\n   }.bind(this));\n\n   return request;\n };\n\n FormData.prototype._error = function(err) {\n   if (!this.error) {\n     this.error = err;\n     this.pause();\n     this.emit('error', err);\n   }\n };\n\n FormData.prototype.toString = function () {\n   return '[object FormData]';\n };\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  'combined-stream': _req,\n  'util': _req0,\n  'path': _req1,\n  'http': _req2,\n  'https': _req3,\n  'url': _req4,\n  'fs': _req5,\n  'mime-types': _req6,\n  'asynckit': _req7,\n  './populate.js': _req8,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}